<!doctype html><html lang=zh-CN><head><meta name=viewport content="width=device-width,initial-scale=1"><meta charset=utf-8><meta name=description content="常见问题总结 - https://www.haipengv.com/posts/%E5%B8%B8%E8%A7%81%E9%97%AE%E9%A2%98%E6%80%BB%E7%BB%93/"><meta name=author content="Smith - https://www.haipengv.com/"><meta name=msvalidate.01 content="B46311949B856F2A7015F366FB3CE878"><title>常见问题总结</title><base target=_self><link rel=icon type=image/png href=/favicon.ico><link rel=stylesheet href=https://www.haipengv.com/style.min.9a0cea23154ac1941e15c25aa2d31b77285a217d2606ec05b55236428cf1c3e6.css><script>const DARK=!1</script><script type=text/javascript src=/main.js defer></script></head><body class=active-animate><div class=cool-before></div><div id=header><div class=container-header><div class=right><h1 class=title>常见问题总结</h1><div id=toc>📜</div></div></div></div><div id=content><div class="container-main container-page"><div class=rel><div class=curtag-desc><a href=https://www.haipengv.com/tags/issue/><img src=/imgs/icons/tag.svg width=16> 相关文章：Issue <sup>8</sup></a></div><div class=curtag-post><div class=curtag-post-item><a href=https://www.haipengv.com/posts/crontab%E6%89%A7%E8%A1%8Cshell%E8%84%9A%E6%9C%AC%E6%8A%A5%E9%94%99/>Crontab执行shell脚本报错</a></div><div class=curtag-post-item><a href=https://www.haipengv.com/posts/dmesg%E6%97%B6%E9%97%B4%E6%98%BE%E7%A4%BA%E9%97%AE%E9%A2%98/>Dmesg时间显示问题</a></div><div class=curtag-post-item><a href=https://www.haipengv.com/posts/idea%E5%A6%82%E4%BD%95%E5%9B%9E%E9%80%80%E5%88%B0%E4%B9%8B%E5%89%8D%E7%9A%84%E5%B7%A5%E7%A8%8B/>Idea如何回退到之前的工程</a></div><div class=curtag-post-item><a href=https://www.haipengv.com/posts/windows%E4%B8%8Bmysql%E5%92%8Cpython3%E5%AE%89%E8%A3%85%E8%BF%87%E7%A8%8B/>Windows下mysql和python3安装过程</a></div><div class=curtag-post-item><a href=https://www.haipengv.com/posts/windows%E7%BB%93%E6%9D%9F%E8%BF%9B%E7%A8%8B/>Windows结束进程</a></div><div class="curtag-post-item curtag-post-item--active"><a href=https://www.haipengv.com/posts/%E5%B8%B8%E8%A7%81%E9%97%AE%E9%A2%98%E6%80%BB%E7%BB%93/>常见问题总结</a></div><div class=curtag-post-item><a href=https://www.haipengv.com/posts/%E8%AE%B0%E4%B8%80%E6%AC%A1%E7%94%B1%E4%BA%8Ekswapd0%E8%BF%9B%E7%A8%8B%E5%AF%BC%E8%87%B4%E7%B3%BB%E7%BB%9F%E5%BC%82%E5%B8%B8/>记一次由于kswapd0进程导致系统异常</a></div><div class=curtag-post-item><a href=https://www.haipengv.com/posts/%E9%BB%91%E7%BE%A4%E6%99%96%E5%A4%96%E9%83%A8%E8%AE%BF%E9%97%AEfrp%E6%90%AD%E5%BB%BA%E8%BF%87%E7%A8%8B/>黑群晖外部访问frp搭建过程</a></div></div></div><div class=desc><span><svg t="1656736000388" class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" p-id="7409" width="12" height="12"><path d="M524.885333 338.986667l-324.522666 324.48c-17.28 15.274667-27.989333 36.693333-29.696 56.234666v133.76l130.730666.085334c22.784-1.621333 43.989333-12.245333 61.013334-31.701334L685.098667 499.2 524.885333 338.986667zM585.258667 278.656l160.170666 160.213333 102.144-102.144a19.712 19.712.0 000-27.861333l-132.48-132.437333a19.456 19.456.0 00-27.605333.0L585.258667 278.613333zM701.312 85.333333c27.946667.0 54.741333 11.136 74.282667 30.848L907.904 248.490667a105.045333 105.045333.0 010 148.565333L424.874667 879.957333C395.050667 914.304 352.768 935.424 304.426667 938.752H85.333333v-42.666667l.128-179.84c3.626667-44.970667 24.576-86.826667 56.448-114.944l485.12-485.034666a104.789333 104.789333.0 0174.24-30.933334z" p-id="7410" fill="#adb5bd"/></svg>2025-03-16&nbsp;&nbsp;&nbsp;<svg t="1656737270708" class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" p-id="23838" width="11" height="11"><path d="M824.264 95.36c0-23.859 25.043-44.16 48.902-44.16s49.714 20.301 49.714 44.16v190.08c0 23.859-19.054 52.868-42.913 52.868h-190.08c-23.859.0-46.696-25.96-46.696-49.819s22.55-46.249 46.409-46.249h82.025C702.344 175.534 610.22 155.853 512 155.853c-206.775.0-360.398 149.372-360.398 356.147S305.225 870.23 512 870.23c206.775.0 357.467-151.455 357.467-358.23.0-23.859 23.634-50.706 53.413-50.706 29.78.0 49.92 26.847 49.92 50.706.0 254.493-206.307 460.8-460.8 460.8s-460.8-206.307-460.8-460.8C51.2 257.507 257.507 51.2 512 51.2c122.4.0 226.684 33.296 312.264 117.369.358.351.358-24.052.0-73.209z" p-id="23839" fill="#adb5bd"/></svg>
2025-03-16&nbsp;&nbsp;&nbsp;</span>
<span><svg t="1656737548689" class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" p-id="33866" width="12" height="12"><path d="M832.038608 64.662657H192.030028c-70.774903.0-128.089859 57.325793-128.089859 128.03206v446.793671c0 70.7171050000001 57.314956 128.154884 128.089859 128.154884h133.353183a63.940169 63.940169.0 0155.219742 31.576328l76.099638 129.83828c12.358154 21.093031 33.790754 31.626903 55.216129 31.626903s42.832688-10.544709 55.198067-31.619678l76.222461-129.870792a63.940169 63.940169.0 0155.212517-31.551041h133.54103c70.576219.0 127.732228-57.289669 127.732227-127.800865V192.391272c0-70.536482-57.181295-127.728615-127.786414-127.728615zM895.884854 639.842407A63.85347 63.85347.0 01832.092795 703.703103h-133.54103a127.753903 127.753903.0 00-110.349172 63.09847l-76.222461 129.856342a.274545.274545.0 010-.050574h-.032512s-.021675.061411-.032512.061412l-76.1466-129.85273a127.804477 127.804477.0 00-110.385297-63.11292H192.030028A64.207489 64.207489.0 01127.880338 639.488388V192.694717a64.102729 64.102729.0 0164.14969-64.091891h640.00858a63.799284 63.799284.0 0163.846246 63.788446v447.451135z" fill="#adb5bd" p-id="33867"/><path d="M608.154093 288.092004a31.970084 31.970084.0 00-31.970084 31.970085v160.078006L441.53396 300.861976a31.970084 31.970084.0 00-57.531702 19.200113v255.760676a31.970084 31.970084.0 0063.940169.0V415.863969l134.650048 179.274507a31.970084 31.970084.0 0057.531703-19.200113V320.062089a31.970084 31.970084.0 00-31.970085-31.970085z" fill="#adb5bd" p-id="33868"/></svg>3220 字</span>&nbsp;
<span><svg t="1656737462334" class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" p-id="32892" width="12" height="12"><path d="M512 74.666667C270.933333 74.666667 74.666667 270.933333 74.666667 512S270.933333 949.333333 512 949.333333 949.333333 753.066667 949.333333 512 753.066667 74.666667 512 74.666667zm0 810.666666C307.2 885.333333 138.666667 716.8 138.666667 512S307.2 138.666667 512 138.666667 885.333333 307.2 885.333333 512 716.8 885.333333 512 885.333333z" p-id="32893" fill="#adb5bd"/><path d="M695.466667 567.466667 544 497.066667V277.333333c0-17.066667-14.933333-32-32-32s-32 14.933333-32 32v238.933334c0 12.8 6.4 23.466667 19.2 29.866666L669.866667 627.2c4.266667 2.133333 8.533333 2.133333 12.8 2.133333 12.8.0 23.466667-6.4 29.866666-19.2 6.4-14.933333.0-34.133333-17.066666-42.666666z" p-id="32894" fill="#adb5bd"/></svg>7 分钟</span><div class=container-ctgtag><div class=taxonomy><div class=tag><a href=/tags/issue>Issue</a></div></div></div></div><div class=toc><div class=container-page-operation><div class=page-operation><div><a href=/><img src=/imgs/icons/home-2.svg alt></a></div><div><a href=/nav><img src=/imgs/icons/iov-navigate-1.svg alt></a></div><div><a href=/wiki><img src=/imgs/icons/wiki.svg alt></a></div><div><a href=/tags><img src=/imgs/icons/treetags.svg alt></a></div><div id=light-dark><a><img src=/imgs/icons/moon2.svg alt></a></div><div><a href=#><img src=/imgs/icons/up2.svg alt></a></div></div></div><nav id=TableOfContents><ul><li><a href=#描述linux下软链接和硬链接的区别>描述Linux下软链接和硬链接的区别</a></li><li><a href=#linux-如何查找具有相同-inode-号的文件>Linux 如何查找具有相同 <code>inode</code> 号的文件?</a><ul><li><a href=#通过-inode号查找>通过 <code>inode</code>号查找</a></li><li><a href=#通过文件名查找>通过文件名查找</a></li></ul></li><li><a href=#linux常见的系统日志文件都有哪些各自的用途>linux常见的系统日志文件都有哪些，各自的用途？</a></li><li><a href=#常见linux开机设置文件>常见Linux开机设置文件</a></li><li><a href=#请描述linux系统优化的12个步骤>请描述Linux系统优化的12个步骤</a></li><li><a href=#请给出查看当前哪些在线用户的linux命令>请给出查看当前哪些在线用户的Linux命令</a></li><li><a href=#输出重定向相关>输出重定向相关</a></li><li><a href=#sed常见用法><code>sed</code>常见用法</a></li><li><a href=#0dirname和basename有什么作用具体举个例子><code>$0</code>、<code>dirname</code>和、<code>basename</code>有什么作用？具体举个例子。</a></li><li><a href=#zsh文件><code>z.sh</code>文件</a></li><li><a href=#用nohup把一个脚本放后台运行>用<code>nohup</code>把一个脚本放后台运行</a></li><li><a href=#有1-9的数字echo输出1-9的数字时屏蔽0-5数字再输出>有<code>1-9</code>的数字，<code>echo</code>输出<code>1-9</code>的数字时，屏蔽<code>0-5</code>数字再输出</a></li><li><a href=#如何用wget和curl监控web是否正常>如何用<code>wget</code>和<code>curl</code>监控web是否正常</a></li></ul></nav></div><div class=content><h2 id=描述linux下软链接和硬链接的区别>描述Linux下软链接和硬链接的区别</h2><p>实践：当前所在路径<code>/root</code></p><p>准备工作</p><pre tabindex=0><code>echo 123 &gt; /tmpdisk/a.txt
echo 123 &gt; /tmpdisk/b.txt
mkdir -p /tmpdisk/ylink
mkdir -p /tmpdisk/rlink
</code></pre><p>分别创建软链接和硬链接</p><pre tabindex=0><code>ln -s  /tmpdisk/a.txt ra.txt
ln   /tmpdisk/b.txt yb.txt
ln  /tmpdisk/ylink   ylink 
#创建失败，硬链接不允许文件夹创建。ln: &#39;/tmpdisk/ylink&#39;: hard link not allowed for directory
ln -s  /tmpdisk/rlink  rlink
</code></pre><p>查看inode节点</p><pre tabindex=0><code>[root@43f873a76b81 ~]# ls -li 
total 8
84271555 -rw------- 1 root root 3302 May 31  2018 anaconda-ks.cfg
87108116 lrwxrwxrwx 1 root root   14 Mar 28 06:18 ra.txt -&gt; /tmpdisk/a.txt
87108117 lrwxrwxrwx 1 root root   14 Mar 28 06:18 rlink -&gt; /tmpdisk/rlink
 1588983 -rw-r--r-- 2 root root    4 Mar 28 05:27 yb.txt
[root@43f873a76b81 ~]# ls -li /tmpdisk/
total 8
1588982 -rw-r--r-- 1 root root 4 Mar 28 05:26 a.txt
1588983 -rw-r--r-- 2 root root 4 Mar 28 05:27 b.txt
1588941 drwxr-xr-x 2 root root 6 Mar 28 06:13 rlink
1588940 drwxr-xr-x 2 root root 6 Mar 28 06:13 ylink
</code></pre><p>发现硬链接的原文件和链接文件<code>inode</code>一致。都为1588983。</p><p>软链接相当于<code>快捷方式</code></p><pre tabindex=0><code>ln -s 源文件路径 链接文件路径
链接文件路径--------&gt;源文件路径
</code></pre><p>总结：</p><p>默认不带参数的情况下，<code>ln</code>创建的是硬链接，带<code>-s</code>参数的<code>ln</code>命令创建的是软链接。</p><p>硬链接文件与源文件的<code>inode</code>节点号相同，软链接文件的<code>inode</code>节点号，与源文件不同。</p><p><code>ln</code>命令不能对目录创建硬链接，但可以创建软链接。对目录的软链接会经常使用到</p><p>删除软链接文件，对源文件和硬链接文件无 任何影响。</p><p>删除文件的硬链接文件，对源文件及软链接文件无任何影响。</p><p>删除链接文件的源文件，对硬链接文件无影响，会导致其软链接失效（红底白字闪烁）。</p><p>同时删除源文件及其硬链接文件，整个文件才会被真正的删除。</p><p>很多硬件设备的快照功能，使用的就是列斯硬链接的原理</p><p>软链接可以跨文件系统，硬链接不可以跨文件系统。</p><h2 id=linux-如何查找具有相同-inode-号的文件>Linux 如何查找具有相同 <code>inode</code> 号的文件?</h2><h3 id=通过-inode号查找>通过 <code>inode</code>号查找</h3><pre tabindex=0><code>find / -xdev -inum &lt;inode_num&gt; 2&gt;/dev/null
find -L / -xdev -inum &lt;inode_num&gt; 2&gt;/dev/null
</code></pre><h3 id=通过文件名查找>通过文件名查找</h3><pre tabindex=0><code>find / -xdev -samefile &lt;file_name&gt; 2&gt;/dev/null
find -L / -xdev -samefile &lt;file_name&gt; 2&gt;/dev/null
</code></pre><p>其中</p><pre tabindex=0><code>-xdev 表示不跨越文件系统查找
-L 表示考虑符号链接(软链接)
</code></pre><p>实例</p><p>查找源文件为<code>/tmpdisk/a.txt</code>的链接文件</p><pre tabindex=0><code>[root@43f873a76b81 ~]# find / -xdev -samefile /tmpdisk/b.txt 
/root/yb.txt
/tmpdisk/b.txt
[root@43f873a76b81 ~]# ll -i /root/yb.txt /tmpdisk/b.txt 
1588983 -rw-r--r-- 2 root root 4 Mar 28 05:27 /root/yb.txt
1588983 -rw-r--r-- 2 root root 4 Mar 28 05:27 /tmpdisk/b.txt
</code></pre><h2 id=linux常见的系统日志文件都有哪些各自的用途>linux常见的系统日志文件都有哪些，各自的用途？</h2><pre tabindex=0><code>/var/log/messages 内核及公共消息日志
/var/log/cron	计划任务日志
/var/log/dmesg	系统引导日志
/var/log/maillog	邮件系统日志
/var/log/secure	记录与访问限制相关日志
/var/log/yum.log 使用yum安装软件的日志
</code></pre><h2 id=常见linux开机设置文件>常见Linux开机设置文件</h2><pre tabindex=0><code>/etc/fstab 实现开机自动挂载
/etc/initab	定义开机进入默认级别的配置文件
/etc/rc.local 定义开机自定义任务的配置文件
</code></pre><h2 id=请描述linux系统优化的12个步骤>请描述Linux系统优化的12个步骤</h2><p>1.不用<code>root</code>直接登陆系统改用普通用户登录。</p><p>2.禁止ssh远程，可以更改默认远程连接ssh服务及禁止<code>root</code>远程连接。</p><pre tabindex=0><code>vi /etc/ssh/sshd_config
PermitRootLogin no
Port 22 #改为其他端口
重启sshd服务
systemctl restart sshd.service
</code></pre><p>3.时间同步：定时更新服务器时间</p><p>每天12点同步一次。</p><p><code>crontab -e</code></p><pre tabindex=0><code>0 12 * * * * /usr/sbin/ntpdate 192.168.0.1
</code></pre><pre tabindex=0><code>设置ntp开机启动并启动ntp
systemctl enable ntpd
systemctl start ntpd
</code></pre><p>定时任务验证</p><pre tabindex=0><code>https://crontab.guru/
</code></pre><p>4.关闭<code>selinux</code>及<code>iptables</code>(<code>iptables</code>工作场景如有wan ip,一般要打开，高并发除外)</p><p><code>iptables</code>是<code>firewalld</code>的子模块。</p><pre tabindex=0><code>systemctl stop firewalld.service 关闭服务
systemctl status firewalld.service 查看服务状态
systemctl disable firewalld.service 设置开机默认关闭防火墙
</code></pre><pre tabindex=0><code>永久关闭selinux
/etc/selinux/config
将SELINUX=enforcing 改为SELINUX=disabled
临时关闭
getenforce 获取状态
setenforce 0 关闭 #0关闭，1开启
</code></pre><p>5.配置<code>yum</code>更新源，从国内更新下载安装rpm包。</p><p>备份</p><pre tabindex=0><code>mv /etc/yum.repos.d/CentOS-Base.repo /etc/yum.repos.d/CentOS-Base.repo.backup
</code></pre><p>下载新的 <code>CentOS-Base.repo 到 /etc/yum.repos.d/</code></p><pre tabindex=0><code>wget -O /etc/yum.repos.d/CentOS-Base.repo https://mirrors.aliyun.com/repo/Centos-7.repo
或者
curl -o /etc/yum.repos.d/CentOS-Base.repo https://mirrors.aliyun.com/repo/Centos-7.repo
</code></pre><p>运行<code>yum makecache</code>生成缓存</p><pre tabindex=0><code>yum makecache
</code></pre><p>6.调整文件描述符的数量，进程及文件的打开都会消耗文件描述符。</p><p>内核（kernel）利用文件描述符（file descriptor）来访问文件。文件描述符是非负整数。打开现存文件或新建文件时，内核会返回一个文件描述符。读写文件也需要使用文件描述符来指定待读写的文件。通俗来讲，因为linux一切皆文件，所以占用文件描述符超过了系统或者用户要求的最大值，就无法再打开了，文件描述符主要是系统级和用户级。查看方式如下</p><pre tabindex=0><code>sysctl -a|grep fs.file-max 查看系统级文件描述符数量
ulimit -n 查看用户级文件描述符数量
</code></pre><p>用户级限制：<code>ulimit</code>命令看到的是用户级的最大文件描述符限制，也就是说每一个用户登录后执行的程序占用文件描述符的总数不能超过这个限制
系统级限制：<code>sysctl</code>命令与<code>proc</code>文件系统中查看到的数值是一样的，这属于系统级限制，它是限制所有用户打开文件描述符的总数.</p><p>修改用户级文件描述符(需要root权限或root用户)</p><pre tabindex=0><code>vi /etc/security/limits.conf。修改文件描述符，应该注意字段下是否存在nofile字段，如果存在直接修改，不存在在末尾添加保存即可。
* hard nofile 4096
* soft nofile 2048
</code></pre><p>修改系统级文件描述符(需要root权限或root用户)：</p><pre tabindex=0><code>vi /etc/sysctl.conf
</code></pre><p>找到<code>fs.file-max</code>，将<code>fs.file-max</code>值修改，保存即可。</p><pre tabindex=0><code>sysctl -p #加载内核参数使修改生效
</code></pre><p>7.定时自动清理<code>/var/spool/clientmquene/</code>目录垃圾文件，防止节点被占满（c6.4默认没有Sendmail，因此可以不配。）</p><p>8.精简开机启动服务(crond、sshd、network、rsyslog)</p><p>9.Linux内核参数优化<code>/etc/sysctl.conf</code>，执行<code>sysctl -P</code>生效。</p><p>10.更改字符集，支持中文，但是还是建议使用英文，防止乱码问题出现。linux默认编码为<code>utf-8</code></p><p>11.锁定关键系统文件</p><pre tabindex=0><code>chattr +i /etc/passwd /etc/shadow /etc/group /etc/gshadow /etc/inittab
</code></pre><p>处理以上内容后，把<code>chattr</code>改名，就更安全了。</p><p>12.清空<code>/etc/issue</code>去除系统及内核版本登录前的屏幕显示。</p><h2 id=请给出查看当前哪些在线用户的linux命令>请给出查看当前哪些在线用户的Linux命令</h2><pre tabindex=0><code>w #显示目前系统登录用户
who #显示目前已登陆用户信息
last #列出当前与过去登录系统的用户相关信息
lastlog #检查某特定用户上次登录时间
whoami #打印与当前生效的用户ID关联的用户名
finger #用户信息查找程序
id #显示指定用户或当前用户的用户信息与组信息
</code></pre><h2 id=输出重定向相关>输出重定向相关</h2><p><code>/dev/null</code>是特殊的字符设备文件，表示黑洞设备或空设备</p><pre tabindex=0><code>&gt;或者1&gt; #输出重定向：把前面输出的东西输入到后面的文件中，会删除文件原有内容。
&gt;&gt;或者1&gt;&gt; #追加重定向：把前面输出的东西追加到后边的文件中，不会删除文件原有内容。
&lt;或者&lt;0 #输入重定向：输入重定向用于改变命令的输入，指定输入内容那个，后跟文件名。
&lt;&lt;或者&lt;&lt;0 #输入重定向：后跟字符串，用来表示“输入结束”，也可以用ctrl+d来结束输入。
2&gt; #错误重定向：把错误信息输入到后边的文件中，会删除文件原有内容。
2&gt;&gt; #错误追加重定向：把错误信息追加到后边的文件中，不会删除文件原有内容。
</code></pre><pre tabindex=0><code>标准输入（stdin）: 0 使用 &lt;或者&lt;&lt;
标准输出（stdout）: 1 使用 &gt;或者&gt;&gt;。正常的输出
标准错误输出（stderr）:2 使用2&gt; 或者2&gt;&gt;
特殊：
2&gt;&amp;1 就是把标准错误重定向到标准输出（&gt;&amp;）
&gt;/dev/null 2&gt;&amp;1 等价于1&gt;/dev/null 2&gt;/dev/null
</code></pre><p>例如：找到文件，忽略错误输出结果。</p><div class=highlight><div style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">7
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>find / -name python3.6 2&gt;/dev/null
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>/usr/bin/python3.6
</span></span><span style=display:flex><span>/usr/lib/python3.6
</span></span><span style=display:flex><span>/usr/lib64/python3.6
</span></span><span style=display:flex><span>/usr/local/lib/python3.6
</span></span><span style=display:flex><span>/usr/local/lib64/python3.6
</span></span></code></pre></td></tr></table></div></div><h2 id=sed常见用法><code>sed</code>常见用法</h2><p>删除文件<code>ra.txt</code>的第2行内容。</p><pre tabindex=0><code>sed -i &#39;2d&#39; ra.txt
</code></pre><p>将文件<code>yb.txt</code>中的<code>5555</code>改为<code>8080</code></p><pre tabindex=0><code>sed -i &#39;s/5555/8080/g&#39; yb.txt
</code></pre><p>使用<code>-e</code>同时更改多个文件。</p><pre tabindex=0><code>sed -i -e &#39;s/6666/9999/g&#39; a.txt b.txt
</code></pre><h2 id=0dirname和basename有什么作用具体举个例子><code>$0</code>、<code>dirname</code>和、<code>basename</code>有什么作用？具体举个例子。</h2><h2 id=zsh文件><code>z.sh</code>文件</h2><div class=highlight><div style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">15
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span><span style=color:#999;font-weight:700;font-style:italic>#!/bin/bash
</span></span></span><span style=display:flex><span><span style=color:#999;font-weight:700;font-style:italic></span><span style=color:#0086b3>echo</span> <span style=color:#d14>&#34;#############&#34;</span>
</span></span><span style=display:flex><span><span style=color:#0086b3>echo</span> <span style=color:#d14>&#34;# this is &#39;</span><span style=color:teal>$0</span><span style=color:#d14>&#39; test#&#34;</span>
</span></span><span style=display:flex><span><span style=color:#0086b3>echo</span> <span style=color:#d14>&#34;#############&#34;</span>
</span></span><span style=display:flex><span><span style=color:#0086b3>echo</span> <span style=color:teal>$0</span>
</span></span><span style=display:flex><span><span style=color:#0086b3>echo</span> 
</span></span><span style=display:flex><span><span style=color:#0086b3>echo</span> <span style=color:#d14>&#34;###############&#34;</span>
</span></span><span style=display:flex><span><span style=color:#0086b3>echo</span> <span style=color:#d14>&#34;# this is &#39;dirname&#39; test#&#34;</span>
</span></span><span style=display:flex><span><span style=color:#0086b3>echo</span> <span style=color:#d14>&#34;############@@#&#34;</span>
</span></span><span style=display:flex><span><span style=color:#0086b3>cd</span> <span style=color:#d14>`</span>dirname <span style=color:teal>$0</span><span style=color:#d14>`</span> <span style=color:#000;font-weight:700>&amp;&amp;</span> <span style=color:#0086b3>pwd</span>
</span></span><span style=display:flex><span><span style=color:#0086b3>echo</span> 
</span></span><span style=display:flex><span><span style=color:#0086b3>echo</span> <span style=color:#d14>&#34;###############&#34;</span>
</span></span><span style=display:flex><span><span style=color:#0086b3>echo</span> <span style=color:#d14>&#34;# this is &#39;basename&#39; test#&#34;</span>
</span></span><span style=display:flex><span><span style=color:#0086b3>echo</span> <span style=color:#d14>&#34;####################&#34;</span>
</span></span><span style=display:flex><span><span style=color:#0086b3>echo</span> <span style=color:#d14>`</span>basename <span style=color:teal>$0</span><span style=color:#d14>`</span>
</span></span></code></pre></td></tr></table></div></div><p>执行结果</p><pre tabindex=0><code>#############
# this is &#39;z.sh&#39; test#
#############
z.sh

###############
# this is &#39;dirname&#39; test#
############@@#
/tmpdisk

###############
# this is &#39;basename&#39; test#
####################
z.sh
</code></pre><p>总结：</p><p><code>dirname</code>获取脚本路径名</p><p><code>basename</code>获取脚本名</p><p><code>$0</code>获取脚本名和脚本路径名</p><h2 id=用nohup把一个脚本放后台运行>用<code>nohup</code>把一个脚本放后台运行</h2><pre tabindex=0><code>nohup sh test.sh &gt; filename 2&gt;&amp;1 &amp;
</code></pre><h2 id=有1-9的数字echo输出1-9的数字时屏蔽0-5数字再输出>有<code>1-9</code>的数字，<code>echo</code>输出<code>1-9</code>的数字时，屏蔽<code>0-5</code>数字再输出</h2><pre tabindex=0><code>echo &#39;1234567890&#39; | sed &#39;s/[0-5]//g&#39;
</code></pre><h2 id=如何用wget和curl监控web是否正常>如何用<code>wget</code>和<code>curl</code>监控web是否正常</h2><p><code>wget</code> 常用命令参数</p><pre tabindex=0><code>--spider                             模拟爬虫的行为去访问网站，但不会下载网页
-q --quite                           安静的访问，禁止输出，类似-o /dev/null
-o --output-file=FILE                记录到输出文件
-T --timeout=SECONDS             	 访问网站的超时时间
-t -tries=NUMBER                     重试次数
</code></pre><p><code>curl </code>常用命令参数</p><pre tabindex=0><code>-I/--header　　　　　　　　　　          显示响应头信息
-m/--max-time&lt;seconds&gt;               访问超时时间
-o/--output&lt;file&gt;                    记录访问信息到文件
-s/--silent                          静默模式访问，不输出信息
-w/--write-output&lt;format&gt;            以固定格式输出，例如%{http_code},输出状态码
</code></pre><p><code>wget</code></p><pre tabindex=0><code>[root@43f873a76b81 tmpdisk]# wget -T 5 -q -t 2 --spider www.qq.com 
[root@43f873a76b81 tmpdisk]# echo $?
0
</code></pre><p><code>curl</code></p><pre tabindex=0><code>[root@43f873a76b81 tmpdisk]# curl -o /dev/null -s -w %{http_code} https://www.baidu.com
200
</code></pre></div></div></div><div id=footer><div class=container-footer><div class=beian><a target=_blank href="http://www.beian.gov.cn/portal/registerSystemInfo?recordcode="></a><a href target=_blank><span class=some>icp...<span></a></div><div class=info><a href=https://github.com/loveminimal/hugo-theme-virgo>🕊️</a> 2021 - <span id=info-date></span></div></div></div><div class=cool-after></div></body></html>