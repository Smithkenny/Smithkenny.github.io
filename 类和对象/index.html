<!doctype html><html lang=zh-CN><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=robots content="noodp"><title>类和对象 - Peng</title><meta name=Description content="One World,One Dream!"><meta property="og:title" content="类和对象"><meta property="og:description" content="面向过程与面向对象 面向过程 核心就是过程二字，过程即解决问题的步骤，就是先干什么再干什么 基于该思想写程序就好比在设计一条流水线，是一种机械式的"><meta property="og:type" content="article"><meta property="og:url" content="https://blog.haipengv.com/%E7%B1%BB%E5%92%8C%E5%AF%B9%E8%B1%A1/"><meta property="og:image" content="https://blog.haipengv.com/logo.webp"><meta property="article:section" content="posts"><meta property="article:published_time" content="2022-03-27T13:44:37+00:00"><meta property="article:modified_time" content="2022-03-27T13:44:37+00:00"><meta property="og:site_name" content="我的网站"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://blog.haipengv.com/logo.webp"><meta name=twitter:title content="类和对象"><meta name=twitter:description content="面向过程与面向对象 面向过程 核心就是过程二字，过程即解决问题的步骤，就是先干什么再干什么 基于该思想写程序就好比在设计一条流水线，是一种机械式的"><meta name=application-name content="我的网站"><meta name=apple-mobile-web-app-title content="我的网站"><meta name=theme-color content="#ffffff"><meta name=msapplication-TileColor content="#da532c"><link rel="shortcut icon" type=image/x-icon href=/favicon.ico><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=mask-icon href=/safari-pinned-tab.svg color=#5bbad5><link rel=manifest href=/site.webmanifest><link rel=canonical href=https://blog.haipengv.com/%E7%B1%BB%E5%92%8C%E5%AF%B9%E8%B1%A1/><link rel=prev href=https://blog.haipengv.com/%E5%BA%8F%E5%88%97%E5%8C%96%E4%B8%8E%E5%8F%8D%E5%BA%8F%E5%88%97%E5%8C%96/><link rel=next href=https://blog.haipengv.com/%E5%B8%B8%E8%A7%81%E9%97%AE%E9%A2%98%E6%80%BB%E7%BB%93/><link rel=stylesheet href=/lib/normalize/normalize.min.css><link rel=stylesheet href=/css/style.min.css><link rel=stylesheet href=/lib/fontawesome-free/all.min.css><link rel=stylesheet href=/lib/animate/animate.min.css><script type=application/ld+json>{"@context":"http://schema.org","@type":"BlogPosting","headline":"类和对象","inLanguage":"zh-CN","mainEntityOfPage":{"@type":"WebPage","@id":"https:\/\/blog.haipengv.com\/%E7%B1%BB%E5%92%8C%E5%AF%B9%E8%B1%A1\/"},"genre":"posts","wordcount":8149,"url":"https:\/\/blog.haipengv.com\/%E7%B1%BB%E5%92%8C%E5%AF%B9%E8%B1%A1\/","datePublished":"2022-03-27T13:44:37+00:00","dateModified":"2022-03-27T13:44:37+00:00","publisher":{"@type":"Organization","name":""},"author":{"@type":"Person","name":"Peng"},"description":""}</script></head><body data-header-desktop=fixed data-header-mobile=auto><script type=text/javascript>(window.localStorage&&localStorage.getItem("theme")?localStorage.getItem("theme")==="dark":"auto"==="auto"?window.matchMedia("(prefers-color-scheme: dark)").matches:"auto"==="dark")&&document.body.setAttribute("theme","dark")</script><div id=mask></div><div class=wrapper><header class=desktop id=header-desktop><div class=header-wrapper><div class=header-title><a href=/ title=Peng>Peng</a></div><div class=menu><div class=menu-inner><a class=menu-item href=/posts/>文章 </a><a class=menu-item href=/tags/>标签 </a><a class=menu-item href=/categories/>分类 </a><a class=menu-item href=/friends/><i class='fas fa-fw fa-fan fa-spin'></i> 友链 </a><a class=menu-item href=/about/>关于 </a><span class="menu-item delimiter"></span><span class="menu-item search" id=search-desktop>
<input type=text placeholder=搜索文章标题或内容... id=search-input-desktop>
<a href=javascript:void(0); class="search-button search-toggle" id=search-toggle-desktop title=Search><i class="fas fa-search fa-fw" aria-hidden=true></i></a>
<a href=javascript:void(0); class="search-button search-clear" id=search-clear-desktop title=Clear><i class="fas fa-times-circle fa-fw" aria-hidden=true></i></a>
<span class="search-button search-loading" id=search-loading-desktop><i class="fas fa-spinner fa-fw fa-spin" aria-hidden=true></i></span>
</span><a href=javascript:void(0); class="menu-item theme-switch" title="Switch Theme"><i class="fas fa-adjust fa-fw" aria-hidden=true></i></a></div></div></div></header><header class=mobile id=header-mobile><div class=header-container><div class=header-wrapper><div class=header-title><a href=/ title=Peng>Peng</a></div><div class=menu-toggle id=menu-toggle-mobile><span></span><span></span><span></span></div></div><div class=menu id=menu-mobile><div class=search-wrapper><div class="search mobile" id=search-mobile><input type=text placeholder=搜索文章标题或内容... id=search-input-mobile>
<a href=javascript:void(0); class="search-button search-toggle" id=search-toggle-mobile title=Search><i class="fas fa-search fa-fw" aria-hidden=true></i></a>
<a href=javascript:void(0); class="search-button search-clear" id=search-clear-mobile title=Clear><i class="fas fa-times-circle fa-fw" aria-hidden=true></i></a>
<span class="search-button search-loading" id=search-loading-mobile><i class="fas fa-spinner fa-fw fa-spin" aria-hidden=true></i></span></div><a href=javascript:void(0); class=search-cancel id=search-cancel-mobile>Cancel</a></div><a class=menu-item href=/posts/ title>文章</a><a class=menu-item href=/tags/ title>标签</a><a class=menu-item href=/categories/ title>分类</a><a class=menu-item href=/friends/ title><i class='fas fa-fw fa-fan fa-spin'></i>友链</a><a class=menu-item href=/about/ title>关于</a><a href=javascript:void(0); class="menu-item theme-switch" title="Switch Theme">
<i class="fas fa-adjust fa-fw" aria-hidden=true></i></a></div></div></header><div class="search-dropdown desktop"><div id=search-dropdown-desktop></div></div><div class="search-dropdown mobile"><div id=search-dropdown-mobile></div></div><main class=main><div class=container><div class=toc id=toc-auto><h2 class=toc-title>Contents</h2><div class="toc-content always-active" id=toc-content-auto></div></div><article class="page single"><h1 class="single-title animate__animated animate__flipInX">类和对象</h1><div class=post-meta><div class=post-meta-line><span class=post-author><a href=/ title=Author rel=author class=author><i class="fas fa-user-circle fa-fw" aria-hidden=true></i>Peng</a></span></div><div class=post-meta-line><i class="far fa-calendar-alt fa-fw" aria-hidden=true></i>&nbsp;<time datetime=2022-03-27>2022-03-27</time>&nbsp;<i class="fas fa-pencil-alt fa-fw" aria-hidden=true></i>&nbsp;8149 words&nbsp;
<i class="far fa-clock fa-fw" aria-hidden=true></i>&nbsp;17 minutes&nbsp;</div></div><div class="details toc" id=toc-static data-kept><div class="details-summary toc-title"><span>Contents</span>
<span><i class="details-icon fas fa-angle-right" aria-hidden=true></i></span></div><div class="details-content toc-content" id=toc-content-static><nav id=TableOfContents><ul><li><a href=#面向过程与面向对象>面向过程与面向对象</a><ul><li><a href=#面向过程>面向过程</a></li><li><a href=#面向对象>面向对象</a></li><li><a href=#类>类</a><ul><li><a href=#查看>查看</a></li><li><a href=#新增>新增</a></li><li><a href=#删除>删除</a></li><li><a href=#注意>注意</a></li><li><a href=#程序中类的用法>程序中类的用法</a></li><li><a href=#python中类内置的特殊属性>python中类内置的特殊属性</a></li></ul></li></ul></li><li><a href=#如何绑定到对象独有特征>如何绑定到对象独有特征？</a></li><li><a href=#属性查找与绑定方法>属性查找与绑定方法</a></li><li><a href=#对象之间的交互>对象之间的交互</a></li><li><a href=#总结>总结</a></li><li><a href=#从代码级别看面向对象>从代码级别看面向对象</a></li><li><a href=#继承与派生>继承与派生</a><ul><li><a href=#什么是继承>什么是继承？</a></li><li><a href=#查看继承>查看继承</a></li><li><a href=#经典类与新式类>经典类与新式类</a></li><li><a href=#练习>练习</a></li><li><a href=#派生>派生</a></li></ul></li><li><a href=#子类重用父类方法>子类重用父类方法</a></li><li><a href=#组合与重用>组合与重用</a><ul><li><a href=#继承与组合的区别>继承与组合的区别</a><ul><li><a href=#组合示例1>组合示例1</a></li><li><a href=#组合示例2>组合示例2</a></li></ul></li></ul></li><li><a href=#抽象类>抽象类</a><ul><li><a href=#什么是抽象类>什么是抽象类？</a></li><li><a href=#为什么要有抽象类>为什么要有抽象类？</a></li><li><a href=#在python中实现抽象类>在<code>python</code>中实现抽象类</a></li></ul></li><li><a href=#继承的原理>继承的原理</a></li><li><a href=#多态与多态性>多态与多态性</a><ul><li><a href=#什么是多态>什么是多态？</a></li><li><a href=#多态的好处>多态的好处</a></li><li><a href=#鸭子类型>鸭子类型</a></li></ul></li></ul></nav></div></div><div class=content id=content><h2 id=面向过程与面向对象>面向过程与面向对象</h2><h3 id=面向过程>面向过程</h3><p>核心就是过程二字，过程即解决问题的步骤，就是先干什么再干什么
基于该思想写程序就好比在设计一条流水线，是一种机械式的思维方式
优点：复杂的过程流程化，进而简单化
缺点：扩展性差</p><h3 id=面向对象>面向对象</h3><p>核心是对象二字，对象是特征与技能的结合体
基于该思想编写程序就好比在创造一个世界，世界是由一个个对象组成的，是一种“上帝式” 的思维方式
优点：可拓展性强
缺点：编程复杂高，容易出现过度设计</p><h3 id=类>类</h3><p>对象是特征与技能的结合体，类就是一系列对象相似的特征与技能的结合体。</p><p>在现实世界中：一定是现有的一个个具体存在的对象，后总结出的类。</p><p>在程序中：一定保证先定义类，后产生对象。</p><p>类体代码在类的定义阶段就会立刻执行。</p><p>在程序中特征用变量标识，技能用函数标识。</p><p>因而类中最常见的无非是：变量和函数的定义</p><p><code>Student</code>是类名，<code>school</code>是特征，<code>def</code>定义的函数都是技能。</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>class</span> <span class=nc>Student</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=n>school</span> <span class=o>=</span> <span class=s1>&#39;taiyang&#39;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>learn</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=s1>&#39;is learning&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>sleep</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=s1>&#39;is sleeping&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>choose_course</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=s1>&#39;choose course&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>   <span class=nb>print</span><span class=p>(</span><span class=n>Student</span><span class=o>.</span><span class=vm>__dict__</span><span class=p>)</span>
</span></span></code></pre></td></tr></table></div></div><h4 id=查看>查看</h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>Student</span><span class=o>.</span><span class=n>school</span><span class=p>)</span> <span class=c1>#数据属性是所有对象共享的</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>Student</span><span class=o>.</span><span class=n>learn</span><span class=p>)</span>  <span class=c1>#函数属性是绑定给对象用的</span>
</span></span></code></pre></td></tr></table></div></div><h4 id=新增>新增</h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>Student</span><span class=o>.</span><span class=n>country</span> <span class=o>=</span> <span class=s1>&#39;china&#39;</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>Student</span><span class=o>.</span><span class=n>country</span><span class=p>)</span>
</span></span></code></pre></td></tr></table></div></div><h4 id=删除>删除</h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>del</span> <span class=n>Student</span><span class=o>.</span><span class=n>country</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>Student</span><span class=o>.</span><span class=n>country</span><span class=p>)</span>
</span></span></code></pre></td></tr></table></div></div><h4 id=注意>注意</h4><p>类中可以有任意python代码，这些代码在类定义阶段便会执行</p><p>因而会产生新的名称空间，用来存放类的变量名与函数名，可以通过<code>Student.__dict__</code>查看</p><p>对于经典类来说我们可以通过该字典操作类名称空间的名字（新式类有限制），但<code>python</code>为我们提供专门的<code>.</code>语法。</p><p>点是访问属性的语法，类中定义的名字，都是类的属性。</p><h4 id=程序中类的用法>程序中类的用法</h4><p><code>.</code>专门用来访问属性，本质操作的就是<code>__dict__</code></p><p><code>Student.school</code> 等于经典类的操作<code>Student.__dict__['school']</code></p><p><code>Student.school='taiyang'</code>等于经典类的操作<code>Student.__dict__['school']=‘taiyang’</code></p><p><code>Student.x=1</code>等于经典的类的操作<code>Student.__dict__['x']=1</code></p><p><code>del Student.x</code>等于经典的类的操作<code>Student.__dict__.pop('x')</code></p><h4 id=python中类内置的特殊属性>python中类内置的特殊属性</h4><p><code>类名.__name__</code># 类的名字(字符串)
<code>类名.__doc__</code># 类的文档字符串
<code>类名.__base__</code># 类的第一个父类(在讲继承时会讲)
<code>类名.__bases__</code># 类所有父类构成的元组(在讲继承时会讲)
<code>类名.__dict__</code># 类的字典属性
<code>类名.__module__</code># 类定义所在的模块
<code>类名.__class__</code># 实例对应的类(仅新式类中)</p><h2 id=如何绑定到对象独有特征>如何绑定到对象独有特征？</h2><p>调用类的过程又称为实例化</p><p>得到一个返回值，即对象，该对象是一个空对象。</p><p>示例：</p><p>改写：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>class</span> <span class=nc>Student</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=n>school</span> <span class=o>=</span> <span class=s1>&#39;taiyang&#39;</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>name</span><span class=p>,</span> <span class=n>sex</span><span class=p>,</span> <span class=n>age</span><span class=p>):</span> <span class=c1>#在调用类时会自动触发执行。</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>Name</span> <span class=o>=</span> <span class=n>name</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>Sex</span> <span class=o>=</span> <span class=n>sex</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>Age</span> <span class=o>=</span> <span class=n>age</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>learn</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=s1>&#39;is learning&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>sleep</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=s1>&#39;is sleeping&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>choose_course</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=s1>&#39;choose course&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=c1>#实例化三个对象</span>
</span></span><span class=line><span class=cl><span class=n>stu1</span> <span class=o>=</span> <span class=n>Student</span><span class=p>(</span><span class=s1>&#39;jack&#39;</span><span class=p>,</span> <span class=s1>&#39;男&#39;</span><span class=p>,</span> <span class=mi>18</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>stu2</span> <span class=o>=</span> <span class=n>Student</span><span class=p>(</span><span class=s1>&#39;smith&#39;</span><span class=p>,</span> <span class=s1>&#39;男&#39;</span><span class=p>,</span> <span class=mi>28</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>stu3</span> <span class=o>=</span> <span class=n>Student</span><span class=p>(</span><span class=s1>&#39;john&#39;</span><span class=p>,</span> <span class=s1>&#39;女&#39;</span><span class=p>,</span> <span class=mi>30</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>#调用对象特有属性。</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>stu1</span><span class=o>.</span><span class=n>Name</span><span class=p>)</span> <span class=c1>#jack</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>stu2</span><span class=o>.</span><span class=n>Name</span><span class=p>)</span> <span class=c1>#smith</span>
</span></span></code></pre></td></tr></table></div></div><h2 id=属性查找与绑定方法>属性查找与绑定方法</h2><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>class</span> <span class=nc>Student</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=n>school</span> <span class=o>=</span> <span class=s1>&#39;taiyang&#39;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>learn</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>x</span><span class=p>,</span> <span class=n>y</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=s1>&#39;</span><span class=si>%s</span><span class=s1> is learning&#39;</span> <span class=o>%</span><span class=bp>self</span><span class=o>.</span><span class=n>Name</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=n>x</span><span class=p>,</span> <span class=n>y</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>sleep</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=s1>&#39;is sleeping&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>choose_course</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=s1>&#39;choose course&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>name</span><span class=p>,</span> <span class=n>sex</span><span class=p>,</span> <span class=n>age</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>Name</span> <span class=o>=</span> <span class=n>name</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>Sex</span> <span class=o>=</span> <span class=n>sex</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>Age</span> <span class=o>=</span> <span class=n>age</span>
</span></span><span class=line><span class=cl><span class=c1>#1.查找一个对象的属性顺序是：先找对象自己的__dict__，再找类的__dict__。</span>
</span></span><span class=line><span class=cl><span class=n>stu1</span> <span class=o>=</span> <span class=n>Student</span><span class=p>(</span><span class=s1>&#39;jack&#39;</span><span class=p>,</span> <span class=s1>&#39;男&#39;</span><span class=p>,</span> <span class=mi>18</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>stu2</span> <span class=o>=</span> <span class=n>Student</span><span class=p>(</span><span class=s1>&#39;smith&#39;</span><span class=p>,</span> <span class=s1>&#39;男&#39;</span><span class=p>,</span> <span class=mi>28</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>stu3</span> <span class=o>=</span> <span class=n>Student</span><span class=p>(</span><span class=s1>&#39;john&#39;</span><span class=p>,</span> <span class=s1>&#39;女&#39;</span><span class=p>,</span> <span class=mi>30</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>stu1</span><span class=o>.</span><span class=vm>__dict__</span><span class=p>)</span> <span class=c1>#{&#39;Name&#39;: &#39;jack&#39;, &#39;Sex&#39;: &#39;男&#39;, &#39;Age&#39;: 18}</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>stu1</span><span class=o>.</span><span class=n>Name</span><span class=p>,</span> <span class=n>stu1</span><span class=o>.</span><span class=n>Age</span><span class=p>,</span> <span class=n>stu1</span><span class=o>.</span><span class=n>Sex</span><span class=p>)</span> <span class=c1>#jack 18 男</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>#2.类的数据属性是所有对象共享，所有对象都指向同一个内存地址。</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>Student</span><span class=o>.</span><span class=n>school</span><span class=p>,</span> <span class=nb>id</span><span class=p>(</span><span class=n>Student</span><span class=o>.</span><span class=n>school</span><span class=p>))</span> <span class=c1>#taiyang 2061253245552</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>stu1</span><span class=o>.</span><span class=n>school</span><span class=p>,</span> <span class=nb>id</span><span class=p>(</span><span class=n>stu1</span><span class=o>.</span><span class=n>school</span><span class=p>))</span> <span class=c1>#taiyang 2061253245552</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>stu2</span><span class=o>.</span><span class=n>school</span><span class=p>,</span> <span class=nb>id</span><span class=p>(</span><span class=n>stu2</span><span class=o>.</span><span class=n>school</span><span class=p>))</span> <span class=c1>#taiyang 2061253245552</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>stu3</span><span class=o>.</span><span class=n>school</span><span class=p>,</span> <span class=nb>id</span><span class=p>(</span><span class=n>stu3</span><span class=o>.</span><span class=n>school</span><span class=p>))</span> <span class=c1>#taiyang 2061253245552</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>#3.类中定义的函数是绑定给对象使用的。</span>
</span></span><span class=line><span class=cl><span class=c1># 不同对象就是不同绑定方法。</span>
</span></span><span class=line><span class=cl><span class=c1># 绑定给谁，就应该由谁来调用,谁来调用就会把谁当作第一个参数传给对应的函数。</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>Student</span><span class=o>.</span><span class=n>learn</span><span class=p>)</span>  <span class=c1>#&lt;function Student.learn at 0x0000026B2F04F9D0&gt;</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>stu1</span><span class=o>.</span><span class=n>learn</span><span class=p>)</span> <span class=c1>#&lt;bound method Student.learn of &lt;__main__.Student object at 0x0000026B2F05EFD0&gt;&gt;</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>stu2</span><span class=o>.</span><span class=n>learn</span><span class=p>)</span> <span class=c1>#&lt;bound method Student.learn of &lt;__main__.Student object at 0x00000227AB11EF10&gt;&gt;</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>stu3</span><span class=o>.</span><span class=n>learn</span><span class=p>)</span> <span class=c1>#&lt;bound method Student.learn of &lt;__main__.Student object at 0x00000227AB11ED00&gt;&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>stu1</span><span class=o>.</span><span class=n>learn</span><span class=p>(</span><span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>)</span> <span class=c1>#等于Student.learn(stu1, 1, 2)</span>
</span></span><span class=line><span class=cl><span class=n>stu2</span><span class=o>.</span><span class=n>learn</span><span class=p>(</span><span class=mi>3</span><span class=p>,</span> <span class=mi>4</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>stu3</span><span class=o>.</span><span class=n>learn</span><span class=p>(</span><span class=mi>5</span><span class=p>,</span> <span class=mi>6</span><span class=p>)</span>
</span></span></code></pre></td></tr></table></div></div><p>解析：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>stu1.learn #stu1对象绑定公共函数属性learn
</span></span><span class=line><span class=cl>Student.learn #Student类访问公共函数属性learn
</span></span><span class=line><span class=cl>它们都可以加括号访问公共函数属性learn
</span></span></code></pre></td></tr></table></div></div><p>python中一切皆为对象，且<code>python3</code>中类与类型是一个概念，类型就是类。</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1>#类型dict就是类dict</span>
</span></span><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=nb>list</span>
</span></span><span class=line><span class=cl><span class=o>&lt;</span><span class=k>class</span> <span class=err>&#39;</span><span class=nc>list</span><span class=s1>&#39;&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>#实例化的到3个对象l1,l2,l3</span>
</span></span><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=n>l1</span><span class=o>=</span><span class=nb>list</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=n>l2</span><span class=o>=</span><span class=nb>list</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=n>l3</span><span class=o>=</span><span class=nb>list</span><span class=p>()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>#三个对象都有绑定方法append,是相同的功能,但内存地址不同</span>
</span></span><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=n>l1</span><span class=o>.</span><span class=n>append</span>
</span></span><span class=line><span class=cl><span class=o>&lt;</span><span class=n>built</span><span class=o>-</span><span class=ow>in</span> <span class=n>method</span> <span class=n>append</span> <span class=n>of</span> <span class=nb>list</span> <span class=nb>object</span> <span class=n>at</span> <span class=mh>0x10b482b48</span><span class=o>&gt;</span>
</span></span><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=n>l2</span><span class=o>.</span><span class=n>append</span>
</span></span><span class=line><span class=cl><span class=o>&lt;</span><span class=n>built</span><span class=o>-</span><span class=ow>in</span> <span class=n>method</span> <span class=n>append</span> <span class=n>of</span> <span class=nb>list</span> <span class=nb>object</span> <span class=n>at</span> <span class=mh>0x10b482b88</span><span class=o>&gt;</span>
</span></span><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=n>l3</span><span class=o>.</span><span class=n>append</span>
</span></span><span class=line><span class=cl><span class=o>&lt;</span><span class=n>built</span><span class=o>-</span><span class=ow>in</span> <span class=n>method</span> <span class=n>append</span> <span class=n>of</span> <span class=nb>list</span> <span class=nb>object</span> <span class=n>at</span> <span class=mh>0x10b482bc8</span><span class=o>&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>#操作绑定方法l1.append(3),就是在往l1添加3,绝对不会将3添加到l2或l3</span>
</span></span><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=n>l1</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=mi>3</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=n>l1</span>
</span></span><span class=line><span class=cl><span class=p>[</span><span class=mi>3</span><span class=p>]</span>
</span></span><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=n>l2</span>
</span></span><span class=line><span class=cl><span class=p>[]</span>
</span></span><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=n>l3</span>
</span></span><span class=line><span class=cl><span class=p>[]</span>
</span></span><span class=line><span class=cl><span class=c1>#调用类list.append(l3,111)等同于l3.append(111)</span>
</span></span><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=nb>list</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>l3</span><span class=p>,</span><span class=mi>111</span><span class=p>)</span> <span class=c1>#l3.append(111)</span>
</span></span><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=n>l3</span>
</span></span><span class=line><span class=cl><span class=p>[</span><span class=mi>111</span><span class=p>]</span> 
</span></span></code></pre></td></tr></table></div></div><h2 id=对象之间的交互>对象之间的交互</h2><p>小练习:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>class</span> <span class=nc>Garen</span><span class=p>:</span> <span class=c1>#定义英雄盖伦的类，不同的玩家可以用它实例出自己英雄;</span>
</span></span><span class=line><span class=cl>    <span class=n>camp</span> <span class=o>=</span> <span class=s1>&#39;demacia&#39;</span> <span class=c1>#所有玩家的英雄(盖伦)的阵营都是Demacia;</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span><span class=n>nickname</span><span class=p>,</span><span class=n>life_value</span><span class=p>,</span><span class=n>aggresivity</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>nickname</span><span class=o>=</span><span class=n>nickname</span> <span class=c1>#为自己的盖伦起个别名;</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>life_value</span><span class=o>=</span><span class=n>life_value</span> <span class=c1>#英雄都有自己的生命值;</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>aggresivity</span><span class=o>=</span><span class=n>aggresivity</span> <span class=c1>#英雄都有自己的攻击力;</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>attack</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span><span class=n>enemy</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=n>enemy</span><span class=o>.</span><span class=n>life_value</span><span class=o>-=</span><span class=bp>self</span><span class=o>.</span><span class=n>aggresivity</span> <span class=c1>#根据自己的攻击力，攻击敌人就减掉敌人的生命值。</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>Riven</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=n>camp</span> <span class=o>=</span> <span class=s1>&#39;Noxus&#39;</span> <span class=c1>#所有玩家的英雄(锐雯)的阵营都是Noxus;</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span><span class=n>nickname</span><span class=p>,</span><span class=n>life_value</span><span class=p>,</span><span class=n>aggresivity</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>nickname</span><span class=o>=</span><span class=n>nickname</span> <span class=c1>#为自己的锐雯起个别名;</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>life_value</span><span class=o>=</span><span class=n>life_value</span> <span class=c1>#英雄都有自己的生命值;</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>aggresivity</span><span class=o>=</span><span class=n>aggresivity</span> <span class=c1>#英雄都有自己的攻击力;</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>attack</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span><span class=n>enemy</span><span class=p>):</span> <span class=c1>#普通攻击技能，enemy是敌人;</span>
</span></span><span class=line><span class=cl>        <span class=n>enemy</span><span class=o>.</span><span class=n>life_value</span><span class=o>-=</span><span class=bp>self</span><span class=o>.</span><span class=n>aggresivity</span> <span class=c1>#根据自己的攻击力，攻击敌人就减掉敌人的生命值。</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>fire</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span><span class=n>enemy</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=n>enemy</span><span class=o>.</span><span class=n>life_value</span><span class=o>-=</span><span class=mi>100</span>
</span></span><span class=line><span class=cl><span class=c1>#实例出俩英雄</span>
</span></span><span class=line><span class=cl><span class=n>g1</span><span class=o>=</span><span class=n>Garen</span><span class=p>(</span><span class=s1>&#39;草丛猥琐男&#39;</span><span class=p>,</span> <span class=mi>1000</span><span class=p>,</span><span class=mi>100</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>r1</span><span class=o>=</span><span class=n>Riven</span><span class=p>(</span><span class=s1>&#39;猛男雯雯&#39;</span><span class=p>,</span><span class=mi>200</span><span class=p>,</span><span class=mi>500</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=c1>#交互</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>r1</span><span class=o>.</span><span class=n>life_value</span><span class=p>)</span> <span class=c1>#攻击之前锐雯血量 200</span>
</span></span><span class=line><span class=cl><span class=n>g1</span><span class=o>.</span><span class=n>attack</span><span class=p>(</span><span class=n>r1</span><span class=p>)</span> <span class=c1>#盖伦攻击锐雯</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>r1</span><span class=o>.</span><span class=n>life_value</span><span class=p>)</span> <span class=c1>#攻击之后锐雯剩余血量 100</span>
</span></span></code></pre></td></tr></table></div></div><h2 id=总结>总结</h2><p>1.站的角度不同，定义出的类是截然不同的</p><p>2.现实中的类并不完全等于程序中的类，比如现实中的公司类，在程序中有时需要拆分成部门类，业务类。</p><p>3.有时为了编程需求，程序中也可能会定义现实中不存在的类，比如策略类，现实中并不存在，但是在程序中却是一个很常见的类。</p><h2 id=从代码级别看面向对象>从代码级别看面向对象</h2><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1>#在没有学习类这个概念时，数据与功能是分离的</span>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>exc1</span><span class=p>(</span><span class=n>host</span><span class=p>,</span><span class=n>port</span><span class=p>,</span><span class=n>db</span><span class=p>,</span><span class=n>charset</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=n>conn</span><span class=o>=</span><span class=n>connect</span><span class=p>(</span><span class=n>host</span><span class=p>,</span><span class=n>port</span><span class=p>,</span><span class=n>db</span><span class=p>,</span><span class=n>charset</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>conn</span><span class=o>.</span><span class=n>execute</span><span class=p>(</span><span class=n>sql</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=n>xxx</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>exc2</span><span class=p>(</span><span class=n>host</span><span class=p>,</span><span class=n>port</span><span class=p>,</span><span class=n>db</span><span class=p>,</span><span class=n>charset</span><span class=p>,</span><span class=n>proc_name</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>conn</span><span class=o>=</span><span class=n>connect</span><span class=p>(</span><span class=n>host</span><span class=p>,</span><span class=n>port</span><span class=p>,</span><span class=n>db</span><span class=p>,</span><span class=n>charset</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>conn</span><span class=o>.</span><span class=n>call_proc</span><span class=p>(</span><span class=n>sql</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=n>xxx</span>
</span></span><span class=line><span class=cl><span class=c1>#每次调用都需要重复传入一堆参数</span>
</span></span><span class=line><span class=cl><span class=n>exc1</span><span class=p>(</span><span class=s1>&#39;127.0.0.1&#39;</span><span class=p>,</span><span class=mi>3306</span><span class=p>,</span><span class=s1>&#39;db1&#39;</span><span class=p>,</span><span class=s1>&#39;utf8&#39;</span><span class=p>,</span><span class=s1>&#39;select * from tb1;&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>exc2</span><span class=p>(</span><span class=s1>&#39;127.0.0.1&#39;</span><span class=p>,</span><span class=mi>3306</span><span class=p>,</span><span class=s1>&#39;db1&#39;</span><span class=p>,</span><span class=s1>&#39;utf8&#39;</span><span class=p>,</span><span class=s1>&#39;存储过程的名字&#39;</span><span class=p>)</span>
</span></span></code></pre></td></tr></table></div></div><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1>#我们能想到的解决方法是，把这些变量都定义成全局变量.</span>
</span></span><span class=line><span class=cl><span class=n>HOST</span><span class=o>=</span><span class=err>‘</span><span class=mf>127.0.0.1</span><span class=err>’</span>
</span></span><span class=line><span class=cl><span class=n>PORT</span><span class=o>=</span><span class=mi>3306</span>
</span></span><span class=line><span class=cl><span class=n>DB</span><span class=o>=</span><span class=err>‘</span><span class=n>db1</span><span class=err>’</span>
</span></span><span class=line><span class=cl><span class=n>CHARSET</span><span class=o>=</span><span class=err>‘</span><span class=n>utf8</span><span class=err>’</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>exc1</span><span class=p>(</span><span class=n>host</span><span class=p>,</span><span class=n>port</span><span class=p>,</span><span class=n>db</span><span class=p>,</span><span class=n>charset</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=n>conn</span><span class=o>=</span><span class=n>connect</span><span class=p>(</span><span class=n>host</span><span class=p>,</span><span class=n>port</span><span class=p>,</span><span class=n>db</span><span class=p>,</span><span class=n>charset</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>conn</span><span class=o>.</span><span class=n>execute</span><span class=p>(</span><span class=n>sql</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=n>xxx</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>exc2</span><span class=p>(</span><span class=n>host</span><span class=p>,</span><span class=n>port</span><span class=p>,</span><span class=n>db</span><span class=p>,</span><span class=n>charset</span><span class=p>,</span><span class=n>proc_name</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>conn</span><span class=o>=</span><span class=n>connect</span><span class=p>(</span><span class=n>host</span><span class=p>,</span><span class=n>port</span><span class=p>,</span><span class=n>db</span><span class=p>,</span><span class=n>charset</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>conn</span><span class=o>.</span><span class=n>call_proc</span><span class=p>(</span><span class=n>sql</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=n>xxx</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>exc1</span><span class=p>(</span><span class=n>HOST</span><span class=p>,</span><span class=n>PORT</span><span class=p>,</span><span class=n>DB</span><span class=p>,</span><span class=n>CHARSET</span><span class=p>,</span><span class=s1>&#39;select * from tb1;&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>exc2</span><span class=p>(</span><span class=n>HOST</span><span class=p>,</span><span class=n>PORT</span><span class=p>,</span><span class=n>DB</span><span class=p>,</span><span class=n>CHARSET</span><span class=p>,</span><span class=s1>&#39;存储过程的名字&#39;</span><span class=p>)</span>
</span></span></code></pre></td></tr></table></div></div><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>但是2的解决方法也是有问题的</span><span class=err>，</span><span class=n>按照2的思路</span><span class=err>，</span><span class=n>我们将会定义一大堆全局变量</span><span class=err>，</span><span class=n>这些全局变量并没有做任何区分</span><span class=err>，</span><span class=n>即能够被所有功能使用</span><span class=err>，</span><span class=n>然而事实上只有HOST</span><span class=err>，</span><span class=n>PORT</span><span class=err>，</span><span class=n>DB</span><span class=err>，</span><span class=n>CHARSET是给exc1和exc2这两个功能用的</span><span class=err>。</span><span class=n>言外之意</span><span class=err>：</span><span class=n>我们必须找出一种能够将数据与操作数据的方法组合到一起的解决方法</span><span class=err>，</span><span class=n>这就是我们说的类了</span><span class=o>.</span>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>MySQLHandler</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span><span class=n>host</span><span class=p>,</span><span class=n>port</span><span class=p>,</span><span class=n>db</span><span class=p>,</span><span class=n>charset</span><span class=o>=</span><span class=s1>&#39;utf8&#39;</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>host</span><span class=o>=</span><span class=n>host</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>port</span><span class=o>=</span><span class=n>port</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>db</span><span class=o>=</span><span class=n>db</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>charset</span><span class=o>=</span><span class=n>charset</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>exc1</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span><span class=n>sql</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=n>conn</span><span class=o>=</span><span class=n>connect</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>host</span><span class=p>,</span><span class=bp>self</span><span class=o>.</span><span class=n>port</span><span class=p>,</span><span class=bp>self</span><span class=o>.</span><span class=n>db</span><span class=p>,</span><span class=bp>self</span><span class=o>.</span><span class=n>charset</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=n>res</span><span class=o>=</span><span class=n>conn</span><span class=o>.</span><span class=n>execute</span><span class=p>(</span><span class=n>sql</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>res</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>exc2</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span><span class=n>sql</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=n>conn</span><span class=o>=</span><span class=n>connect</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>host</span><span class=p>,</span><span class=bp>self</span><span class=o>.</span><span class=n>port</span><span class=p>,</span><span class=bp>self</span><span class=o>.</span><span class=n>db</span><span class=p>,</span><span class=bp>self</span><span class=o>.</span><span class=n>charset</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=n>res</span><span class=o>=</span><span class=n>conn</span><span class=o>.</span><span class=n>call_proc</span><span class=p>(</span><span class=n>sql</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>res</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>obj</span><span class=o>=</span><span class=n>MySQLHandler</span><span class=p>(</span><span class=s1>&#39;127.0.0.1&#39;</span><span class=p>,</span><span class=mi>3306</span><span class=p>,</span><span class=s1>&#39;db1&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>obj</span><span class=o>.</span><span class=n>exc1</span><span class=p>(</span><span class=s1>&#39;select * from tb1;&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>obj</span><span class=o>.</span><span class=n>exc2</span><span class=p>(</span><span class=s1>&#39;存储过程的名字&#39;</span><span class=p>)</span>
</span></span></code></pre></td></tr></table></div></div><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1>#改进</span>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>MySQLHandler</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span><span class=n>host</span><span class=p>,</span><span class=n>port</span><span class=p>,</span><span class=n>db</span><span class=p>,</span><span class=n>charset</span><span class=o>=</span><span class=s1>&#39;utf8&#39;</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>host</span><span class=o>=</span><span class=n>host</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>port</span><span class=o>=</span><span class=n>port</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>db</span><span class=o>=</span><span class=n>db</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>charset</span><span class=o>=</span><span class=n>charset</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>conn</span><span class=o>=</span><span class=n>connect</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>host</span><span class=p>,</span><span class=bp>self</span><span class=o>.</span><span class=n>port</span><span class=p>,</span><span class=bp>self</span><span class=o>.</span><span class=n>db</span><span class=p>,</span><span class=bp>self</span><span class=o>.</span><span class=n>charset</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>exc1</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span><span class=n>sql</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>conn</span><span class=o>.</span><span class=n>execute</span><span class=p>(</span><span class=n>sql</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>exc2</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span><span class=n>sql</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>conn</span><span class=o>.</span><span class=n>call_proc</span><span class=p>(</span><span class=n>sql</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>obj</span><span class=o>=</span><span class=n>MySQLHandler</span><span class=p>(</span><span class=s1>&#39;127.0.0.1&#39;</span><span class=p>,</span><span class=mi>3306</span><span class=p>,</span><span class=s1>&#39;db1&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>obj</span><span class=o>.</span><span class=n>exc1</span><span class=p>(</span><span class=s1>&#39;select * from tb1;&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>obj</span><span class=o>.</span><span class=n>exc2</span><span class=p>(</span><span class=s1>&#39;存储过程的名字&#39;</span><span class=p>)</span>
</span></span></code></pre></td></tr></table></div></div><h2 id=继承与派生>继承与派生</h2><h3 id=什么是继承>什么是继承？</h3><p>继承是一种创建新类的方式，新建的类可以继承一个或多个父类（python支持多继承），父类又可称作基类或超类，新建的类称为派生类或子类。</p><p>子类会“遗传”父类的属性，从而解决代码重用的问题。</p><p>python中类的继承分为：单继承和多继承</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>class</span> <span class=nc>ParentClass1</span><span class=p>:</span> <span class=c1>#定义父类</span>
</span></span><span class=line><span class=cl>    <span class=k>pass</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>ParentClass2</span><span class=p>:</span> <span class=c1>#定义父类</span>
</span></span><span class=line><span class=cl>    <span class=k>pass</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>SubClass1</span><span class=p>(</span><span class=n>ParentClass1</span><span class=p>):</span> <span class=c1>#单继承，基类是ParentClass1，派生类是SubClass</span>
</span></span><span class=line><span class=cl>    <span class=k>pass</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>SubClass2</span><span class=p>(</span><span class=n>ParentClass1</span><span class=p>,</span><span class=n>ParentClass2</span><span class=p>):</span> <span class=c1>#python支持多继承，用逗号分隔开多个继承的类</span>
</span></span><span class=line><span class=cl>    <span class=k>pass</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=查看继承>查看继承</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>SubClass1</span><span class=o>.</span><span class=vm>__bases__</span> <span class=c1>#__base__只查看从左到右继承的第一个子类，__bases__则是查看所有继承的父类</span>
</span></span><span class=line><span class=cl><span class=p>(</span><span class=o>&lt;</span><span class=k>class</span> <span class=err>&#39;</span><span class=nc>__main__</span><span class=o>.</span><span class=n>ParentClass1</span><span class=s1>&#39;&gt;,)</span>
</span></span><span class=line><span class=cl><span class=n>SubClass2</span><span class=o>.</span><span class=vm>__bases__</span>
</span></span><span class=line><span class=cl><span class=p>(</span><span class=o>&lt;</span><span class=k>class</span> <span class=err>&#39;</span><span class=nc>__main__</span><span class=o>.</span><span class=n>ParentClass1</span><span class=s1>&#39;&gt;, &lt;class &#39;</span><span class=n>__main__</span><span class=o>.</span><span class=n>ParentClass2</span><span class=s1>&#39;&gt;)</span>
</span></span></code></pre></td></tr></table></div></div><p>提示：如果没有指定基类，python的类会默认继承object类，object是所有python类的基类，他提供了一些常见的方法（如<code>__str__</code>）的实现。</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>ParentClass1</span><span class=o>.</span><span class=vm>__bases__</span>
</span></span><span class=line><span class=cl><span class=p>(</span><span class=o>&lt;</span><span class=k>class</span> <span class=err>&#39;</span><span class=nc>object</span><span class=s1>&#39;&gt;,)</span>
</span></span><span class=line><span class=cl><span class=n>ParentClass2</span><span class=o>.</span><span class=vm>__bases__</span>
</span></span><span class=line><span class=cl><span class=p>(</span><span class=o>&lt;</span><span class=k>class</span> <span class=err>&#39;</span><span class=nc>object</span><span class=s1>&#39;&gt;,)</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=经典类与新式类>经典类与新式类</h3><p>在<code>python2</code> 中类分为两种：</p><p>1.经典类: 指的是没有继承<code>object</code>类的类，以及该类的子类。</p><p>2.新式类：指的是继承<code>object</code>类的类，以及该类的子类。</p><p>在<code>python3</code>中类统一为新式类</p><p>继承描述的是子类和父类之间的关系，是一种<code>什么是什么的关系</code>。要找出这种关系，必须先抽象再继承。</p><p>抽象即抽取类似或者说比较像的部分。</p><p><strong>继承：是基于抽象的结果，通过编程语言去实现它，肯定是先经历抽象这个过程，才能通过继承的方式去表达出抽象的结构。</strong></p><p>抽象只是分析和设计的过程中，一个动作或者说一种技巧，通过抽象可以得到类。</p><p>在开发程序的过程中，如果我们定义了一个类A，然后又想新建立另外一个类B，但是类B的大部分内容与类A的相同时</p><p>我们不可能从头开始写一个类B，这就用到了类的继承的概念。</p><p>通过继承的方式新建类B，让B继承A，B会‘遗传’A的所有属性(数据属性和函数属性)，实现代码重用。</p><h3 id=练习>练习</h3><p>定义两个类<code>Student</code>类和<code>Teacher</code>类，都有相同的数据属性（都在同一个学校），也有相同的函数属性。姓名、性别、年龄。</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>class</span> <span class=nc>Student</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=n>school</span><span class=o>=</span><span class=s1>&#39;qinghua&#39;</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>name</span><span class=p>,</span> <span class=n>sex</span><span class=p>,</span> <span class=n>age</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>name</span><span class=o>=</span><span class=n>name</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>sex</span><span class=o>=</span><span class=n>sex</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>age</span><span class=o>=</span><span class=n>age</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>learn</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=s1>&#39;</span><span class=si>%s</span><span class=s1> is learing&#39;</span><span class=o>%</span><span class=bp>self</span><span class=o>.</span><span class=n>name</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>Teacher</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=n>school</span><span class=o>=</span><span class=s1>&#39;qinghua&#39;</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>name</span><span class=p>,</span> <span class=n>sex</span><span class=p>,</span> <span class=n>age</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>name</span><span class=o>=</span><span class=n>name</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>sex</span><span class=o>=</span><span class=n>sex</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>age</span><span class=o>=</span><span class=n>age</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>teach</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=s1>&#39;</span><span class=si>%s</span><span class=s1> is teaching&#39;</span><span class=o>%</span><span class=bp>self</span><span class=o>.</span><span class=n>name</span><span class=p>)</span>
</span></span></code></pre></td></tr></table></div></div><p>使用继承，把相同部分提取出来，单独做成父类。学生和老师类都作为子类继承父类的所有属性。</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>class</span> <span class=nc>People</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=n>school</span><span class=o>=</span><span class=s1>&#39;qinghua&#39;</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>name</span><span class=p>,</span> <span class=n>sex</span><span class=p>,</span> <span class=n>age</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>name</span><span class=o>=</span><span class=n>name</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>sex</span><span class=o>=</span><span class=n>sex</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>age</span><span class=o>=</span><span class=n>age</span>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>Student</span><span class=p>(</span><span class=n>People</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>learn</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=s1>&#39;</span><span class=si>%s</span><span class=s1> is learing&#39;</span><span class=o>%</span><span class=bp>self</span><span class=o>.</span><span class=n>name</span><span class=p>)</span> 
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>Teacher</span><span class=p>(</span><span class=n>People</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>teach</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=s1>&#39;</span><span class=si>%s</span><span class=s1> is teaching&#39;</span><span class=o>%</span><span class=bp>self</span><span class=o>.</span><span class=n>name</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=c1>#初始化</span>
</span></span><span class=line><span class=cl><span class=n>stu1</span><span class=o>=</span><span class=n>Student</span><span class=p>(</span><span class=s1>&#39;jack&#39;</span><span class=p>,</span><span class=s1>&#39;man&#39;</span><span class=p>,</span><span class=mi>18</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>teacher1</span><span class=o>=</span><span class=n>Teacher</span><span class=p>(</span><span class=s1>&#39;john&#39;</span><span class=p>,</span><span class=s1>&#39;woman&#39;</span><span class=p>,</span><span class=mi>20</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=c1>#Student和Teacher作为子类继承了父类People类的所有属性。可以直接调用。</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>stu1</span><span class=o>.</span><span class=vm>__dict__</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=p>{</span><span class=s1>&#39;name&#39;</span><span class=p>:</span> <span class=s1>&#39;jack&#39;</span><span class=p>,</span> <span class=s1>&#39;sex&#39;</span><span class=p>:</span> <span class=s1>&#39;man&#39;</span><span class=p>,</span> <span class=s1>&#39;age&#39;</span><span class=p>:</span> <span class=mi>18</span><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=派生>派生</h3><p>当在父类中找不到所需的属性时，子类可以定义属于自己的特征。</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>class</span> <span class=nc>People</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=n>school</span><span class=o>=</span><span class=s1>&#39;qinghua&#39;</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>name</span><span class=p>,</span> <span class=n>sex</span><span class=p>,</span> <span class=n>age</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>name</span><span class=o>=</span><span class=n>name</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>sex</span><span class=o>=</span><span class=n>sex</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>age</span><span class=o>=</span><span class=n>age</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>tell_info</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=s1>&#39;&lt;名字:</span><span class=si>%s</span><span class=s1> 性别:</span><span class=si>%s</span><span class=s1> 年龄:</span><span class=si>%s</span><span class=s1>&gt; &#39;</span><span class=o>%</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>name</span><span class=p>,</span> <span class=bp>self</span><span class=o>.</span><span class=n>sex</span><span class=p>,</span> <span class=bp>self</span><span class=o>.</span><span class=n>age</span><span class=p>))</span>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>Student</span><span class=p>(</span><span class=n>People</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>learn</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=s1>&#39;</span><span class=si>%s</span><span class=s1> is learing&#39;</span><span class=o>%</span><span class=bp>self</span><span class=o>.</span><span class=n>name</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>tell_info</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;我是学生:&#34;</span><span class=p>,</span> <span class=n>end</span><span class=o>=</span><span class=s1>&#39;&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=s1>&#39;&lt;名字:</span><span class=si>%s</span><span class=s1> 性别:</span><span class=si>%s</span><span class=s1> 年龄:</span><span class=si>%s</span><span class=s1>&gt; &#39;</span><span class=o>%</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>name</span><span class=p>,</span><span class=bp>self</span><span class=o>.</span><span class=n>sex</span><span class=p>,</span><span class=bp>self</span><span class=o>.</span><span class=n>age</span><span class=p>))</span>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>Teacher</span><span class=p>(</span><span class=n>People</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>teach</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=s1>&#39;</span><span class=si>%s</span><span class=s1> is teaching&#39;</span><span class=o>%</span><span class=bp>self</span><span class=o>.</span><span class=n>name</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>tell_info</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;我是老师:&#34;</span><span class=p>,</span> <span class=n>end</span><span class=o>=</span><span class=s1>&#39;&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=s1>&#39;&lt;名字:</span><span class=si>%s</span><span class=s1> 性别:</span><span class=si>%s</span><span class=s1> 年龄:</span><span class=si>%s</span><span class=s1>&gt; &#39;</span><span class=o>%</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>name</span><span class=p>,</span><span class=bp>self</span><span class=o>.</span><span class=n>sex</span><span class=p>,</span><span class=bp>self</span><span class=o>.</span><span class=n>age</span><span class=p>))</span>
</span></span><span class=line><span class=cl><span class=c1>#初始化</span>
</span></span><span class=line><span class=cl><span class=n>stu1</span><span class=o>=</span><span class=n>Student</span><span class=p>(</span><span class=s1>&#39;jack&#39;</span><span class=p>,</span><span class=s1>&#39;man&#39;</span><span class=p>,</span><span class=mi>18</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>teacher1</span><span class=o>=</span><span class=n>Teacher</span><span class=p>(</span><span class=s1>&#39;john&#39;</span><span class=p>,</span><span class=s1>&#39;woman&#39;</span><span class=p>,</span><span class=mi>20</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=c1>#调用tell_info()函数属性</span>
</span></span><span class=line><span class=cl><span class=n>stu1</span><span class=o>.</span><span class=n>tell_info</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=n>teacher1</span><span class=o>.</span><span class=n>tell_info</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=n>我是学生</span><span class=p>:</span><span class=o>&lt;</span><span class=n>名字</span><span class=p>:</span><span class=n>jack</span> <span class=n>性别</span><span class=p>:</span><span class=n>man</span> <span class=n>年龄</span><span class=p>:</span><span class=mi>18</span><span class=o>&gt;</span> 
</span></span><span class=line><span class=cl><span class=n>我是老师</span><span class=p>:</span><span class=o>&lt;</span><span class=n>名字</span><span class=p>:</span><span class=n>john</span> <span class=n>性别</span><span class=p>:</span><span class=n>woman</span> <span class=n>年龄</span><span class=p>:</span><span class=mi>20</span><span class=o>&gt;</span> 
</span></span></code></pre></td></tr></table></div></div><p><code>tell_info</code>函数属性查找顺序</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>stu1对象自己有没有--&gt;stu1所在的类（Student）有没有--&gt;发现有直接调用。
</span></span><span class=line><span class=cl>											如果没有--&gt;查找父类（People）有没有（有直接调用，没有直接抛出异常）
</span></span><span class=line><span class=cl>		异常：AttributeError: &#39;Student&#39; object has no attribute &#39;tell_info&#39;
</span></span></code></pre></td></tr></table></div></div><h2 id=子类重用父类方法>子类重用父类方法</h2><p>在子类派生出的新方法中，往往需要重用父类的方法，我们有两种实现方式：</p><p>1.“指名道姓”，即<code>父类名.父类方法()</code>跟继承没关系。和函数调用类似。</p><p><code>Student类</code>中除了继承父类的<code>name sex age </code>方法之外，还派生出自己的新方法<code>course stu_id</code></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>class</span> <span class=nc>People</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=n>school</span> <span class=o>=</span> <span class=s1>&#39;qinghua&#39;</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>name</span><span class=p>,</span> <span class=n>sex</span><span class=p>,</span> <span class=n>age</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>name</span> <span class=o>=</span> <span class=n>name</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>sex</span> <span class=o>=</span> <span class=n>sex</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>age</span> <span class=o>=</span> <span class=n>age</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>tell_info</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=s1>&#39;&lt;名字:</span><span class=si>%s</span><span class=s1> 性别:</span><span class=si>%s</span><span class=s1> 年龄:</span><span class=si>%s</span><span class=s1>&gt; &#39;</span><span class=o>%</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>name</span><span class=p>,</span> <span class=bp>self</span><span class=o>.</span><span class=n>sex</span><span class=p>,</span> <span class=bp>self</span><span class=o>.</span><span class=n>age</span><span class=p>))</span>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>Student</span><span class=p>(</span><span class=n>People</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>name</span><span class=p>,</span> <span class=n>sex</span><span class=p>,</span> <span class=n>age</span><span class=p>,</span> <span class=n>course</span><span class=p>,</span> <span class=n>stu_id</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=n>People</span><span class=o>.</span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>name</span><span class=p>,</span> <span class=n>sex</span><span class=p>,</span> <span class=n>age</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>course</span> <span class=o>=</span> <span class=n>course</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>stu_id</span> <span class=o>=</span> <span class=n>stu_id</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>learn</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;</span><span class=si>%s</span><span class=s2> is learning.&#34;</span><span class=o>%</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>name</span><span class=p>))</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>tell_info</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;我是学生: &#34;</span><span class=p>,</span> <span class=n>end</span><span class=o>=</span><span class=s1>&#39;&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=n>People</span><span class=o>.</span><span class=n>tell_info</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>stu1</span> <span class=o>=</span> <span class=n>Student</span><span class=p>(</span><span class=s1>&#39;jack&#39;</span><span class=p>,</span> <span class=s1>&#39;man&#39;</span><span class=p>,</span> <span class=mi>18</span><span class=p>,</span><span class=s1>&#39;python&#39;</span><span class=p>,</span><span class=mi>1</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>stu1</span><span class=o>.</span><span class=n>tell_info</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=c1>#结果</span>
</span></span><span class=line><span class=cl><span class=n>我是学生</span><span class=p>:</span> <span class=o>&lt;</span><span class=n>名字</span><span class=p>:</span><span class=n>jack</span> <span class=n>性别</span><span class=p>:</span><span class=n>man</span> <span class=n>年龄</span><span class=p>:</span><span class=mi>18</span><span class=o>&gt;</span> 
</span></span></code></pre></td></tr></table></div></div><p>2.使用<code>super()</code>，依赖于继承。依循<code>mro列表</code>从当前类的下一个类开始查找。</p><p>在<code>python2</code>中<code>super(自己的类名, self)</code>，而在<code>python3</code>中<code>super()</code>函数中可以不传参。</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>class</span> <span class=nc>People</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=n>school</span> <span class=o>=</span> <span class=s1>&#39;qinghua&#39;</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>name</span><span class=p>,</span> <span class=n>sex</span><span class=p>,</span> <span class=n>age</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>name</span> <span class=o>=</span> <span class=n>name</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>sex</span> <span class=o>=</span> <span class=n>sex</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>age</span> <span class=o>=</span> <span class=n>age</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>tell_info</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=s1>&#39;&lt;名字:</span><span class=si>%s</span><span class=s1> 性别:</span><span class=si>%s</span><span class=s1> 年龄:</span><span class=si>%s</span><span class=s1>&gt; &#39;</span><span class=o>%</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>name</span><span class=p>,</span> <span class=bp>self</span><span class=o>.</span><span class=n>sex</span><span class=p>,</span> <span class=bp>self</span><span class=o>.</span><span class=n>age</span><span class=p>))</span>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>Student</span><span class=p>(</span><span class=n>People</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>name</span><span class=p>,</span> <span class=n>sex</span><span class=p>,</span> <span class=n>age</span><span class=p>,</span> <span class=n>course</span><span class=p>,</span> <span class=n>stu_id</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=nb>super</span><span class=p>(</span><span class=n>Student</span><span class=p>,</span> <span class=bp>self</span><span class=p>)</span><span class=o>.</span><span class=fm>__init__</span><span class=p>(</span><span class=n>name</span><span class=p>,</span> <span class=n>sex</span><span class=p>,</span> <span class=n>age</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>course</span> <span class=o>=</span> <span class=n>course</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>stu_id</span> <span class=o>=</span> <span class=n>stu_id</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>learn</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;</span><span class=si>%s</span><span class=s2> is learning.&#34;</span><span class=o>%</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>name</span><span class=p>))</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>tell_info</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;我是学生: &#34;</span><span class=p>,</span> <span class=n>end</span><span class=o>=</span><span class=s1>&#39;&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=nb>super</span><span class=p>(</span><span class=n>Student</span><span class=p>,</span> <span class=bp>self</span><span class=p>)</span><span class=o>.</span><span class=n>tell_info</span><span class=p>()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>stu1</span> <span class=o>=</span> <span class=n>Student</span><span class=p>(</span><span class=s1>&#39;jack&#39;</span><span class=p>,</span> <span class=s1>&#39;man&#39;</span><span class=p>,</span> <span class=mi>18</span><span class=p>,</span><span class=s1>&#39;python&#39;</span><span class=p>,</span><span class=mi>1</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>stu1</span><span class=o>.</span><span class=n>tell_info</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=c1>#结果</span>
</span></span><span class=line><span class=cl><span class=n>我是学生</span><span class=p>:</span> <span class=o>&lt;</span><span class=n>名字</span><span class=p>:</span><span class=n>jack</span> <span class=n>性别</span><span class=p>:</span><span class=n>man</span> <span class=n>年龄</span><span class=p>:</span><span class=mi>18</span><span class=o>&gt;</span> 
</span></span></code></pre></td></tr></table></div></div><p>示例。问结果是什么？</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>class</span> <span class=nc>Foo</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>f2</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;======&gt;f2&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>f1</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=s1>&#39;Foo f1&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=nb>super</span><span class=p>()</span><span class=o>.</span><span class=n>f2</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>Bar</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>f2</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=s1>&#39;Bar f2&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>Sub</span><span class=p>(</span><span class=n>Foo</span><span class=p>,</span> <span class=n>Bar</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=k>pass</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>s</span><span class=o>=</span><span class=n>Sub</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=n>s</span><span class=o>.</span><span class=n>f1</span><span class=p>()</span>
</span></span></code></pre></td></tr></table></div></div><p>解析：</p><p>先查看子类<code>Sub()</code>的<code>mro方法</code></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>Sub</span><span class=o>.</span><span class=n>mro</span><span class=p>())</span> <span class=c1>#[&lt;class &#39;__main__.Sub&#39;&gt;, &lt;class &#39;__main__.Foo&#39;&gt;, &lt;class &#39;__main__.Bar&#39;&gt;, &lt;class &#39;object&#39;&gt;]</span>
</span></span></code></pre></td></tr></table></div></div><p>寻找<code>f1()</code>时的顺序</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-mysql data-lang=mysql><span class=line><span class=cl><span class=err>对象</span><span class=n>s</span><span class=o>-&gt;</span><span class=err>对象所在类</span><span class=n>Sub</span><span class=o>-&gt;</span><span class=err>类</span><span class=n>Sub</span><span class=err>左侧父类</span><span class=n>Foo</span><span class=o>-&gt;</span><span class=err>找到</span><span class=nf>f1</span><span class=p>(),</span><span class=err>并打印</span><span class=s1>&#39;Foo f1&#39;</span><span class=err>。遇到</span><span class=nf>super</span><span class=p>()</span><span class=err>，</span><span class=nf>super</span><span class=p>()</span><span class=err>遵循</span><span class=n>mro</span><span class=err>列表继续查找</span><span class=nf>f2</span><span class=p>().</span><span class=err>当前在</span><span class=n>Foo</span><span class=err>类。</span><span class=o>-&gt;</span><span class=err>找到</span><span class=n>Foo</span><span class=err>下一个类</span><span class=n>Bar</span><span class=err>中有</span><span class=n>f2</span><span class=err>方法，打印</span><span class=s1>&#39;Bar f2&#39;</span><span class=o>-&gt;</span><span class=err>查找结束</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1>#最终结果
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=n>Foo</span><span class=w> </span><span class=n>f1</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=n>Bar</span><span class=w> </span><span class=n>f2</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=err>即使</span><span class=nf>super</span><span class=p>()</span><span class=err>所在类中有同名函数属性</span><span class=nf>f2</span><span class=p>()</span><span class=err>也不会调用，只会调用当前所在类的下一个类中的方法。</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=err>即使没有直接继承关系，</span><span class=o>`</span><span class=n>super</span><span class=o>`</span><span class=err>仍然会按照</span><span class=o>`</span><span class=n>mro</span><span class=o>`</span><span class=err>继续往后查找。这就是为什么</span><span class=n>super</span><span class=err>所在的类有同名的</span><span class=n>f2</span><span class=err>函数也不会调用的原因。</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><h2 id=组合与重用>组合与重用</h2><p>组合指的是，在一个类中以另外一个类的对象作为数据属性，称为类的组合。</p><h3 id=继承与组合的区别>继承与组合的区别</h3><p>继承：<code>什么是什么</code></p><p>组合：<code>什么有什么</code></p><h4 id=组合示例1>组合示例1</h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span><span class=lnt>39
</span><span class=lnt>40
</span><span class=lnt>41
</span><span class=lnt>42
</span><span class=lnt>43
</span><span class=lnt>44
</span><span class=lnt>45
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>class</span> <span class=nc>People</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=n>school</span> <span class=o>=</span> <span class=s1>&#39;qinghua&#39;</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>name</span><span class=p>,</span> <span class=n>sex</span><span class=p>,</span> <span class=n>age</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>name</span> <span class=o>=</span> <span class=n>name</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>sex</span> <span class=o>=</span> <span class=n>sex</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>age</span> <span class=o>=</span> <span class=n>age</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>tell_info</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=s1>&#39;&lt;名字:</span><span class=si>%s</span><span class=s1> 性别:</span><span class=si>%s</span><span class=s1> 年龄:</span><span class=si>%s</span><span class=s1>&gt; &#39;</span><span class=o>%</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>name</span><span class=p>,</span> <span class=bp>self</span><span class=o>.</span><span class=n>sex</span><span class=p>,</span> <span class=bp>self</span><span class=o>.</span><span class=n>age</span><span class=p>))</span>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>Student</span><span class=p>(</span><span class=n>People</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>name</span><span class=p>,</span> <span class=n>sex</span><span class=p>,</span> <span class=n>age</span><span class=p>,</span> <span class=n>course</span><span class=p>,</span> <span class=n>stu_id</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=n>People</span><span class=o>.</span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>name</span><span class=p>,</span> <span class=n>sex</span><span class=p>,</span> <span class=n>age</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>course</span> <span class=o>=</span> <span class=n>course</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>stu_id</span> <span class=o>=</span> <span class=n>stu_id</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>learn</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;</span><span class=si>%s</span><span class=s2> is learning.&#34;</span><span class=o>%</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>name</span><span class=p>))</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>tell_info</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;我是学生: &#34;</span><span class=p>,</span> <span class=n>end</span><span class=o>=</span><span class=s1>&#39;&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=n>People</span><span class=o>.</span><span class=n>tell_info</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>Teacher</span><span class=p>(</span><span class=n>People</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>name</span><span class=p>,</span> <span class=n>sex</span><span class=p>,</span> <span class=n>age</span><span class=p>,</span> <span class=n>level</span><span class=p>,</span> <span class=n>salary</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=n>People</span><span class=o>.</span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>name</span><span class=p>,</span> <span class=n>sex</span><span class=p>,</span> <span class=n>age</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>level</span> <span class=o>=</span> <span class=n>level</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>salary</span> <span class=o>=</span> <span class=n>salary</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>teach</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;</span><span class=si>%s</span><span class=s2> is teaching.&#34;</span><span class=o>%</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>name</span><span class=p>))</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>tell_info</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=s1>&#39;我是老师：&#39;</span><span class=p>,</span> <span class=n>end</span><span class=o>=</span><span class=s1>&#39;&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=n>People</span><span class=o>.</span><span class=n>tell_info</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>Date</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>year</span><span class=p>,</span> <span class=n>mon</span><span class=p>,</span> <span class=n>day</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>year</span> <span class=o>=</span> <span class=n>year</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>mon</span> <span class=o>=</span> <span class=n>mon</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>day</span> <span class=o>=</span> <span class=n>day</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>tell_info</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=s1>&#39;出生日期是:&lt;</span><span class=si>%s</span><span class=s1>-</span><span class=si>%s</span><span class=s1>-</span><span class=si>%s</span><span class=s1>&gt;&#39;</span><span class=o>%</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>year</span><span class=p>,</span> <span class=bp>self</span><span class=o>.</span><span class=n>mon</span><span class=p>,</span> <span class=bp>self</span><span class=o>.</span><span class=n>day</span><span class=p>))</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>stu1</span> <span class=o>=</span> <span class=n>Student</span><span class=p>(</span><span class=s1>&#39;jack&#39;</span><span class=p>,</span> <span class=s1>&#39;man&#39;</span><span class=p>,</span> <span class=mi>18</span><span class=p>,</span><span class=s1>&#39;python&#39;</span><span class=p>,</span><span class=mi>1</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>date_obj1</span> <span class=o>=</span> <span class=n>Date</span><span class=p>(</span><span class=mi>1995</span><span class=p>,</span> <span class=mi>10</span><span class=p>,</span> <span class=mi>2</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>stu1</span><span class=o>.</span><span class=n>birth</span> <span class=o>=</span> <span class=n>date_obj1</span>
</span></span><span class=line><span class=cl><span class=n>teacher1</span> <span class=o>=</span> <span class=n>Teacher</span><span class=p>(</span><span class=s1>&#39;smith&#39;</span><span class=p>,</span> <span class=s1>&#39;women&#39;</span><span class=p>,</span> <span class=mi>20</span><span class=p>,</span> <span class=mi>10</span><span class=p>,</span> <span class=mi>4000</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>date_obj2</span> <span class=o>=</span> <span class=n>Date</span><span class=p>(</span><span class=mi>1980</span><span class=p>,</span> <span class=mi>1</span><span class=p>,</span> <span class=mi>1</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>teacher1</span><span class=o>.</span><span class=n>birth</span> <span class=o>=</span> <span class=n>date_obj2</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>stu1</span><span class=o>.</span><span class=n>birth</span><span class=o>.</span><span class=n>tell_info</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=n>teacher1</span><span class=o>.</span><span class=n>birth</span><span class=o>.</span><span class=n>tell_info</span><span class=p>()</span>
</span></span></code></pre></td></tr></table></div></div><p>解析：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>Teacher类和Stuent类都有共同的属性生日，所以单独创建Date类。
</span></span><span class=line><span class=cl>#初始化Date类
</span></span><span class=line><span class=cl>date_obj1 = Date(1995, 10, 2)
</span></span><span class=line><span class=cl>#学生1的生日是date_obj1
</span></span><span class=line><span class=cl>stu1.birth = date_obj1
</span></span><span class=line><span class=cl>#调用学生1的tell_info方法
</span></span><span class=line><span class=cl>stu1.birth.tell_info()
</span></span></code></pre></td></tr></table></div></div><h4 id=组合示例2>组合示例2</h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span><span class=lnt>39
</span><span class=lnt>40
</span><span class=lnt>41
</span><span class=lnt>42
</span><span class=lnt>43
</span><span class=lnt>44
</span><span class=lnt>45
</span><span class=lnt>46
</span><span class=lnt>47
</span><span class=lnt>48
</span><span class=lnt>49
</span><span class=lnt>50
</span><span class=lnt>51
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>class</span> <span class=nc>People</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span><span class=n>name</span><span class=p>,</span><span class=n>age</span><span class=p>,</span><span class=n>sex</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>name</span><span class=o>=</span><span class=n>name</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>age</span><span class=o>=</span><span class=n>age</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>sex</span><span class=o>=</span><span class=n>sex</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>Course</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span><span class=n>name</span><span class=p>,</span><span class=n>period</span><span class=p>,</span><span class=n>price</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>name</span><span class=o>=</span><span class=n>name</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>period</span><span class=o>=</span><span class=n>period</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>price</span><span class=o>=</span><span class=n>price</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>tell_info</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=s1>&#39;&lt;</span><span class=si>%s</span><span class=s1> </span><span class=si>%s</span><span class=s1> </span><span class=si>%s</span><span class=s1>&gt;&#39;</span> <span class=o>%</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>name</span><span class=p>,</span><span class=bp>self</span><span class=o>.</span><span class=n>period</span><span class=p>,</span><span class=bp>self</span><span class=o>.</span><span class=n>price</span><span class=p>))</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>Teacher</span><span class=p>(</span><span class=n>People</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span><span class=n>name</span><span class=p>,</span><span class=n>age</span><span class=p>,</span><span class=n>sex</span><span class=p>,</span><span class=n>job_title</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=n>People</span><span class=o>.</span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span><span class=n>name</span><span class=p>,</span><span class=n>age</span><span class=p>,</span><span class=n>sex</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>job_title</span><span class=o>=</span><span class=n>job_title</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>course</span><span class=o>=</span><span class=p>[]</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>students</span><span class=o>=</span><span class=p>[]</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>Student</span><span class=p>(</span><span class=n>People</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span><span class=n>name</span><span class=p>,</span><span class=n>age</span><span class=p>,</span><span class=n>sex</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=n>People</span><span class=o>.</span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span><span class=n>name</span><span class=p>,</span><span class=n>age</span><span class=p>,</span><span class=n>sex</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>course</span><span class=o>=</span><span class=p>[]</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>eg</span><span class=o>=</span><span class=n>Teacher</span><span class=p>(</span><span class=s1>&#39;eg&#39;</span><span class=p>,</span><span class=mi>18</span><span class=p>,</span><span class=s1>&#39;male&#39;</span><span class=p>,</span><span class=s1>&#39;霸道金牌讲师&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>s1</span><span class=o>=</span><span class=n>Student</span><span class=p>(</span><span class=s1>&#39;牛二&#39;</span><span class=p>,</span><span class=mi>18</span><span class=p>,</span><span class=s1>&#39;female&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>python</span><span class=o>=</span><span class=n>Course</span><span class=p>(</span><span class=s1>&#39;python&#39;</span><span class=p>,</span><span class=s1>&#39;3mons&#39;</span><span class=p>,</span><span class=mf>3000.0</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>linux</span><span class=o>=</span><span class=n>Course</span><span class=p>(</span><span class=s1>&#39;linux&#39;</span><span class=p>,</span><span class=s1>&#39;3mons&#39;</span><span class=p>,</span><span class=mf>3000.0</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>#为老师eg和学生s1添加课程</span>
</span></span><span class=line><span class=cl><span class=n>eg</span><span class=o>.</span><span class=n>course</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>python</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>eg</span><span class=o>.</span><span class=n>course</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>linux</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>s1</span><span class=o>.</span><span class=n>course</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>python</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>#为老师eg添加学生s1</span>
</span></span><span class=line><span class=cl><span class=n>eg</span><span class=o>.</span><span class=n>students</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>s1</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>#查看老师的课程</span>
</span></span><span class=line><span class=cl><span class=k>for</span> <span class=n>obj</span> <span class=ow>in</span> <span class=n>eg</span><span class=o>.</span><span class=n>course</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=n>obj</span><span class=o>.</span><span class=n>tell_info</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=c1>#结果</span>
</span></span><span class=line><span class=cl><span class=o>&lt;</span><span class=n>python</span> <span class=mi>3</span><span class=n>mons</span> <span class=mf>3000.0</span><span class=o>&gt;</span>
</span></span><span class=line><span class=cl><span class=o>&lt;</span><span class=n>linux</span> <span class=mi>3</span><span class=n>mons</span> <span class=mf>3000.0</span><span class=o>&gt;</span>
</span></span><span class=line><span class=cl><span class=c1>#查看学生的课程</span>
</span></span><span class=line><span class=cl><span class=k>for</span> <span class=n>i</span> <span class=ow>in</span> <span class=n>s1</span><span class=o>.</span><span class=n>course</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=n>i</span><span class=o>.</span><span class=n>tell_info</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=c1>#结果</span>
</span></span><span class=line><span class=cl><span class=o>&lt;</span><span class=n>python</span> <span class=mi>3</span><span class=n>mons</span> <span class=mf>3000.0</span><span class=o>&gt;</span>
</span></span></code></pre></td></tr></table></div></div><p>解析:</p><p>学生选课之前课程为空，课程有<code>Python</code>和<code>Linux</code>可以选择，学生选择<code>Python</code>。为学生分配导师，最后查看学生所选的课程。</p><h2 id=抽象类>抽象类</h2><h3 id=什么是抽象类>什么是抽象类？</h3><p>抽象类是一个特殊类，只能被继承不能实例化。</p><h3 id=为什么要有抽象类>为什么要有抽象类？</h3><p>如果说类是从一堆对象中抽取相同的内容而来的，那么抽象类就是从一类中抽取相同的内容而来的，内容包括数据属性和函数属性。</p><p>从实现角度来看，抽象类与普通类的不同之处在于：抽象类中只能有抽象方法（没有实现功能），该类不能被实例化，只能被继承，且子类必须实现抽象方法。这一点与接口有点类似，但其实是不同的。</p><h3 id=在python中实现抽象类>在<code>python</code>中实现抽象类</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=kn>import</span> <span class=nn>abc</span>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>Animal</span><span class=p>(</span><span class=n>metaclass</span><span class=o>=</span><span class=n>abc</span><span class=o>.</span><span class=n>ABCMeta</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=nd>@abc.abstractmethod</span> 
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>eat</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=k>pass</span>
</span></span><span class=line><span class=cl>    <span class=nd>@abc.abstractmethod</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>run</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=k>pass</span>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>People</span><span class=p>(</span><span class=n>Animal</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=k>pass</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>pig</span><span class=p>(</span><span class=n>Animal</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=k>pass</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>peol</span><span class=o>=</span><span class=n>People</span><span class=p>()</span> <span class=c1>#TypeError: Can&#39;t instantiate abstract class People with abstract methods eat, run</span>
</span></span></code></pre></td></tr></table></div></div><p>解析：</p><p>引用<code>abc</code>模块实现<code>java</code>中接口功能。抽象化（<code>Animal</code>）类下面的子类必须使用父类（<code>Animal</code>）定义好的功能，名称也不能改。</p><p><strong>要在抽象类中定义抽象方法，我们必须使用装饰器：<code>@abstractmethod</code>。内置<code>abc</code>模块包含这两者。</strong></p><p><strong>作用是强制子类来使用定义好的功能。</strong></p><p>如果子类不使用抽象类中定义的功能，将不能进行实例化。异常如上段代码所示。</p><p>定义好功能后就能实例化正常调用了。</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=kn>import</span> <span class=nn>abc</span>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>Animal</span><span class=p>(</span><span class=n>metaclass</span><span class=o>=</span><span class=n>abc</span><span class=o>.</span><span class=n>ABCMeta</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=nd>@abc.abstractmethod</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>eat</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=k>pass</span>
</span></span><span class=line><span class=cl>    <span class=nd>@abc.abstractmethod</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>run</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=k>pass</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>People</span><span class=p>(</span><span class=n>Animal</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>eat</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;He is eatting&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>run</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;He is running&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>pig</span><span class=p>(</span><span class=n>Animal</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=k>pass</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>peol</span><span class=o>=</span><span class=n>People</span><span class=p>()</span> <span class=c1>#实例化</span>
</span></span><span class=line><span class=cl><span class=n>peol</span><span class=o>.</span><span class=n>eat</span><span class=p>()</span> <span class=c1>#调用eat()。He is eatting</span>
</span></span><span class=line><span class=cl><span class=n>peol</span><span class=o>.</span><span class=n>run</span><span class=p>()</span> <span class=c1>#调用run()。He is running</span>
</span></span></code></pre></td></tr></table></div></div><p><code>Linux</code>中一切皆文件。用抽象类定义一套模板。</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=kn>import</span> <span class=nn>abc</span>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>File</span><span class=p>(</span><span class=n>metaclass</span><span class=o>=</span><span class=n>abc</span><span class=o>.</span><span class=n>ABCMeta</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=nd>@abc.abstractmethod</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>read</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=k>pass</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>write</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=k>pass</span>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>Disk</span><span class=p>(</span><span class=n>File</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>read</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;disk read&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>write</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;disk write&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>Process</span><span class=p>(</span><span class=n>File</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>read</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;process read&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>write</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;process write&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>d</span><span class=o>=</span><span class=n>Disk</span>
</span></span><span class=line><span class=cl><span class=n>p</span><span class=o>=</span><span class=n>Process</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>d</span><span class=o>.</span><span class=n>read</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=n>d</span><span class=o>.</span><span class=n>write</span><span class=p>()</span>
</span></span></code></pre></td></tr></table></div></div><h2 id=继承的原理>继承的原理</h2><p>属性的查找有两种方法：深度优先和广度优先。</p><p><img class=lazyload src=/svg/loading.min.svg data-src=/postimages/image-20220406220157089.webp data-srcset="/postimages/image-20220406220157089.webp, /postimages/image-20220406220157089.webp 1.5x, /postimages/image-20220406220157089.webp 2x" data-sizes=auto alt=/postimages/image-20220406220157089.webp title=image-20220406220157089></p><p><img class=lazyload src=/svg/loading.min.svg data-src=/postimages/image-20220406220221407.webp data-srcset="/postimages/image-20220406220221407.webp, /postimages/image-20220406220221407.webp 1.5x, /postimages/image-20220406220221407.webp 2x" data-sizes=auto alt=/postimages/image-20220406220221407.webp title=image-20220406220221407></p><p><strong><code>python2</code>中默认是经典类（深度优先），而<code>python3</code>中默认是新式类（广度优先）。</strong></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>class</span> <span class=nc>A</span><span class=p>(</span><span class=nb>object</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>test</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=s1>&#39;from A&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>B</span><span class=p>(</span><span class=n>A</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>test</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=s1>&#39;from B&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>C</span><span class=p>(</span><span class=n>A</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>test</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=s1>&#39;from C&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>D</span><span class=p>(</span><span class=n>B</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>test</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=s1>&#39;from D&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>E</span><span class=p>(</span><span class=n>C</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>test</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=s1>&#39;from E&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>F</span><span class=p>(</span><span class=n>D</span><span class=p>,</span><span class=n>E</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=c1># def test(self):</span>
</span></span><span class=line><span class=cl>    <span class=c1>#     print(&#39;from F&#39;)</span>
</span></span><span class=line><span class=cl>    <span class=k>pass</span>
</span></span><span class=line><span class=cl><span class=n>f1</span><span class=o>=</span><span class=n>F</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=n>f1</span><span class=o>.</span><span class=n>test</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>F</span><span class=o>.</span><span class=vm>__mro__</span><span class=p>)</span> <span class=c1>#只有新式才有这个属性可以查看线性列表，经典类没有这个属性</span>
</span></span><span class=line><span class=cl><span class=c1>#(&lt;class &#39;__main__.F&#39;&gt;, &lt;class &#39;__main__.D&#39;&gt;, &lt;class &#39;__main__.B&#39;&gt;, &lt;class &#39;__main__.E&#39;&gt;, &lt;class &#39;__main__.C&#39;&gt;, &lt;class &#39;__main__.A&#39;&gt;, &lt;class &#39;object&#39;&gt;)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>#新式类继承顺序:F-&gt;D-&gt;B-&gt;E-&gt;C-&gt;A</span>
</span></span><span class=line><span class=cl><span class=c1>#经典类继承顺序:F-&gt;D-&gt;B-&gt;A-&gt;E-&gt;C</span>
</span></span><span class=line><span class=cl><span class=c1>#python3中统一都是新式类</span>
</span></span><span class=line><span class=cl><span class=c1>#pyhon2中才分新式类与经典类</span>
</span></span></code></pre></td></tr></table></div></div><p>为了实现继承,python会在<code>MRO列表</code>上从左到右开始查找基类,直到找到第一个匹配这个属性的类为止。
而这个<code>MRO列表</code>的构造是通过一个<code>C3线性化算法</code>来实现的。我们不去深究这个算法的数学原理,它实际上就是合并所有父类的<code>MRO列表</code>并遵循如下三条准则:
1.子类会先于父类被检查
2.多个父类会根据它们在列表中的顺序被检查
3.如果对下一个类存在两个合法的选择,选择第一个父类。（查找顺序都是从左到右）</p><h2 id=多态与多态性>多态与多态性</h2><h3 id=什么是多态>什么是多态？</h3><p>同一种事物的不同形态。如：水。有水蒸气、冰、还有液态水三种形态。</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>peo=People()
</span></span><span class=line><span class=cl>dog=Dog()
</span></span><span class=line><span class=cl>pig=Pig()
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>#peo、dog、pig都是动物,只要是动物肯定有talk方法
</span></span><span class=line><span class=cl>#于是我们可以不用考虑它们三者的具体是什么类型,而直接使用
</span></span><span class=line><span class=cl>peo.talk()
</span></span><span class=line><span class=cl>dog.talk()
</span></span><span class=line><span class=cl>pig.talk()
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>#更进一步,我们可以定义一个统一的接口来使用
</span></span><span class=line><span class=cl>def func(obj):
</span></span><span class=line><span class=cl>    obj.talk()
</span></span></code></pre></td></tr></table></div></div><h3 id=多态的好处>多态的好处</h3><p>1.增加了程序的灵活性</p><p>　　以不变应万变，不论对象千变万化，使用者都是同一种形式去调用，如<code>func(animal)</code></p><p>2.增加了程序额可扩展性</p><p>　　通过继承<code>animal类</code>创建了一个新的类，使用者无需更改自己的代码，还是用<code>func(animal)</code>去调用。</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>&gt;&gt;&gt; class Cat(Animal): #属于动物的另外一种形态：猫
</span></span><span class=line><span class=cl>...     def talk(self):
</span></span><span class=line><span class=cl>...         print(&#39;say miao&#39;)
</span></span><span class=line><span class=cl>... 
</span></span><span class=line><span class=cl>&gt;&gt;&gt; def func(animal): #对于使用者来说，自己的代码根本无需改动
</span></span><span class=line><span class=cl>...     animal.talk()
</span></span><span class=line><span class=cl>... 
</span></span><span class=line><span class=cl>&gt;&gt;&gt; cat1=Cat() #实例出一只猫
</span></span><span class=line><span class=cl>&gt;&gt;&gt; func(cat1) #甚至连调用方式也无需改变，就能调用猫的talk功能
</span></span><span class=line><span class=cl>say miao
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>&#39;&#39;&#39;
</span></span><span class=line><span class=cl>这样我们新增了一个形态Cat，由Cat类产生的实例cat1，使用者可以在完全不需要修改自己代码的情况下。使用和人、狗、猪一样的方式调用cat1的talk方法，即func(cat1)
</span></span><span class=line><span class=cl>&#39;&#39;&#39;
</span></span></code></pre></td></tr></table></div></div><h3 id=鸭子类型>鸭子类型</h3><p>Python崇尚鸭子类型，即‘如果看起来像、叫声像而且走起路来像鸭子，那么它就是鸭子’</p><p>python程序员通常根据这种行为来编写程序。例如，如果想编写现有对象的自定义版本，可以继承该对象</p><p>也可以创建一个外观和行为像，但与它无任何关系的全新对象，后者通常用于保存程序组件的松耦合度。</p><p>例1：利用标准库中定义的各种‘与文件类似’的对象，尽管这些对象的工作方式像文件，但他们没有继承内置文件对象的方法.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1>#二者都像鸭子,二者看起来都像文件,因而就可以当文件一样去用</span>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>TxtFile</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>read</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=k>pass</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>write</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=k>pass</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>DiskFile</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>read</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=k>pass</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>write</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=k>pass</span>
</span></span></code></pre></td></tr></table></div></div><p>例2：其实大家一直在享受着多态性带来的好处，比如Python的序列类型有多种形态：字符串，列表，元组，多态性体现如下</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>#str,list,tuple都是序列类型
</span></span><span class=line><span class=cl>s=str(&#39;hello&#39;)
</span></span><span class=line><span class=cl>l=list([1,2,3])
</span></span><span class=line><span class=cl>t=tuple((4,5,6))
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>#我们可以在不考虑三者类型的前提下使用s,l,t
</span></span><span class=line><span class=cl>s.__len__()
</span></span><span class=line><span class=cl>l.__len__()
</span></span><span class=line><span class=cl>t.__len__()
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>len(s)
</span></span><span class=line><span class=cl>len(l)
</span></span><span class=line><span class=cl>len(t)
</span></span></code></pre></td></tr></table></div></div></div><div class=post-footer id=post-footer><div class=post-info><div class=post-info-line><div class=post-info-mod><span>Updated on 2022-03-27</span></div></div><div class=post-info-line><div class=post-info-md><span><a class=link-to-markdown href=/%E7%B1%BB%E5%92%8C%E5%AF%B9%E8%B1%A1/index.md target=_blank>Read Markdown</a></span></div><div class=post-info-share><span></span></div></div></div><div class=post-info-more><section class=post-tags></section><section><span><a href=javascript:void(0); onclick=window.history.back()>Back</a></span>&nbsp;|&nbsp;<span><a href=/>Home</a></span></section></div><div class=post-nav><a href=/%E5%BA%8F%E5%88%97%E5%8C%96%E4%B8%8E%E5%8F%8D%E5%BA%8F%E5%88%97%E5%8C%96/ class=prev rel=prev title=序列化与反序列化><i class="fas fa-angle-left fa-fw" aria-hidden=true></i>序列化与反序列化</a>
<a href=/%E5%B8%B8%E8%A7%81%E9%97%AE%E9%A2%98%E6%80%BB%E7%BB%93/ class=next rel=next title=常见问题总结>常见问题总结<i class="fas fa-angle-right fa-fw" aria-hidden=true></i></a></div></div></article></div></main><footer class=footer><div class=footer-container><div class=footer-line itemscope itemtype=http://schema.org/CreativeWork><i class="far fa-copyright fa-fw" aria-hidden=true></i><span itemprop=copyrightYear>2020 - 2023</span><span class=author itemprop=copyrightHolder>&nbsp;<a href=/ target=_blank>Peng</a></span>&nbsp;|&nbsp;<span class=license><a rel="license external nofollow noopener noreffer" href=https://creativecommons.org/licenses/by-nc/4.0/ target=_blank>CC BY-NC 4.0</a></span></div></div></footer></div><div id=fixed-buttons><a href=# id=back-to-top class=fixed-button title="Back to Top"><i class="fas fa-arrow-up fa-fw" aria-hidden=true></i>
</a><a href=# id=view-comments class=fixed-button title="View Comments"><i class="fas fa-comment fa-fw" aria-hidden=true></i></a></div><link rel=stylesheet href=/lib/katex/katex.min.css><link rel=stylesheet href=/lib/katex/copy-tex.min.css><link rel=stylesheet href=/lib/cookieconsent/cookieconsent.min.css><script type=text/javascript src=/lib/autocomplete/autocomplete.min.js></script><script type=text/javascript src=/lib/lunr/lunr.min.js></script><script type=text/javascript src=/lib/lazysizes/lazysizes.min.js></script><script type=text/javascript src=/lib/clipboard/clipboard.min.js></script><script type=text/javascript src=/lib/sharer/sharer.min.js></script><script type=text/javascript src=/lib/katex/katex.min.js></script><script type=text/javascript src=/lib/katex/auto-render.min.js></script><script type=text/javascript src=/lib/katex/copy-tex.min.js></script><script type=text/javascript src=/lib/katex/mhchem.min.js></script><script type=text/javascript src=/lib/cookieconsent/cookieconsent.min.js></script><script type=text/javascript>window.config={code:{copyTitle:"Copy to clipboard",maxShownLines:0},comment:{},cookieconsent:{content:{dismiss:"Got it!",link:"Learn more",message:"This website uses Cookies to improve your experience."},enable:!0,palette:{button:{background:"#f0f0f0"},popup:{background:"#1aa3ff"}},theme:"edgeless"},math:{delimiters:[{display:!0,left:"$$",right:"$$"},{display:!0,left:"\\[",right:"\\]"},{display:!0,left:"\\begin{equation}",right:"\\end{equation}"},{display:!0,left:"\\begin{equation*}",right:"\\end{equation*}"},{display:!0,left:"\\begin{align}",right:"\\end{align}"},{display:!0,left:"\\begin{align*}",right:"\\end{align*}"},{display:!0,left:"\\begin{alignat}",right:"\\end{alignat}"},{display:!0,left:"\\begin{alignat*}",right:"\\end{alignat*}"},{display:!0,left:"\\begin{gather}",right:"\\end{gather}"},{display:!0,left:"\\begin{CD}",right:"\\end{CD}"},{display:!1,left:"$",right:"$"},{display:!1,left:"\\(",right:"\\)"}],strict:!1},search:{highlightTag:"em",lunrIndexURL:"/index.json",maxResultLength:10,noResultsFound:"No results found",snippetLength:50,type:"lunr"}}</script><script type=text/javascript src=/js/theme.min.js></script></body></html>