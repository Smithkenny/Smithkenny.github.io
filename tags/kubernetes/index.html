<!doctype html><html lang=zh-CN><head><meta name=viewport content="width=device-width,initial-scale=1"><meta charset=utf-8><meta name=description content="Kubernetes - https://www.haipengv.com/tags/kubernetes/"><meta name=author content="Smith - https://www.haipengv.com/"><meta name=msvalidate.01 content="B46311949B856F2A7015F366FB3CE878"><title>Kubernetes</title><base target=_self><link rel=icon type=image/png href=/favicon.ico><link rel=stylesheet href=https://www.haipengv.com/style.min.9a0cea23154ac1941e15c25aa2d31b77285a217d2606ec05b55236428cf1c3e6.css><script>const DARK=!1</script><script type=text/javascript src=/main.js defer></script></head><body class=active-animate><div class=cool-before></div><div id=header><div class=container-header><div class=right><h1 class=title>Kubernetes</h1><div id=toc>📜</div></div></div></div><div id=content><div class="container-main container-list"><div class=toc><div class=container-page-operation><div class=page-operation><div><a href=/><img src=/imgs/icons/home-2.svg alt></a></div><div><a href=/nav><img src=/imgs/icons/iov-navigate-1.svg alt></a></div><div><a href=/wiki><img src=/imgs/icons/wiki.svg alt></a></div><div><a href=/tags><img src=/imgs/icons/treetags.svg alt></a></div><div id=light-dark><a><img src=/imgs/icons/moon2.svg alt></a></div><div><a href=#><img src=/imgs/icons/up2.svg alt></a></div></div></div><div class="list post-list"><div class=count>文章列表： 11 篇</div><div class=wrapper-item><div class=item><a href=#OpenEuler%e7%b3%bb%e7%bb%9f%e9%83%a8%e7%bd%b21.28.2%e5%8d%95%e8%8a%82%e7%82%b9%e9%9b%86%e7%be%a4><span><img src=/imgs/icons/post-3.svg width=16></span>
<span>OpenEuler系统部署1.28.2单节点集群 <sup></sup></span></a></div><div class=item><a href=#K3s%e6%8c%81%e4%b9%85%e5%8c%96%e5%ad%98%e5%82%a8%20NFS><span><img src=/imgs/icons/post-3.svg width=16></span>
<span>K3s持久化存储 NFS <sup></sup></span></a></div><div class=item><a href=#K3s%e9%83%a8%e7%bd%b2%e5%8d%95%e6%9c%bakafka><span><img src=/imgs/icons/post-3.svg width=16></span>
<span>K3s部署单机kafka <sup></sup></span></a></div><div class=item><a href=#K8s%e5%9b%bd%e5%86%85%e9%95%9c%e5%83%8f%e5%8a%a0%e9%80%9f%e6%9c%8d%e5%8a%a1%e6%95%b4%e7%90%86><span><img src=/imgs/icons/post-3.svg width=16></span>
<span>K8s国内镜像加速服务整理 <sup></sup></span></a></div><div class=item><a href=#Kubernetes%e4%bf%ae%e7%82%bc%e6%89%8b%e5%86%8c%e9%98%85%e8%af%bb%e7%ac%94%e8%ae%b0><span><img src=/imgs/icons/post-3.svg width=16></span>
<span>Kubernetes修炼手册阅读笔记 <sup></sup></span></a></div><div class=item><a href=#%e8%bd%bb%e9%87%8fk3s%e9%83%a8%e7%bd%b2-%e4%b8%8a%e7%af%87><span><img src=/imgs/icons/post-3.svg width=16></span>
<span>轻量k3s部署-上篇 <sup></sup></span></a></div><div class=item><a href=#%e8%bd%bb%e9%87%8fk3s%e9%83%a8%e7%bd%b2-%e4%b8%8b%e7%af%87><span><img src=/imgs/icons/post-3.svg width=16></span>
<span>轻量k3s部署-下篇 <sup></sup></span></a></div><div class=item><a href=#CEPH%e6%90%ad%e5%bb%ba><span><img src=/imgs/icons/post-3.svg width=16></span>
<span>CEPH搭建 <sup></sup></span></a></div><div class=item><a href=#CKS%e5%88%9d%e5%a7%8b%e7%8e%af%e5%a2%83%e6%90%ad%e5%bb%ba><span><img src=/imgs/icons/post-3.svg width=16></span>
<span>CKS初始环境搭建 <sup></sup></span></a></div><div class=item><a href=#K8s%e7%bd%91%e7%bb%9c%e9%80%9a%e4%bf%a1><span><img src=/imgs/icons/post-3.svg width=16></span>
<span>K8s网络通信 <sup></sup></span></a></div><div class=item><a href=#K8s%e9%9b%86%e7%be%a4%e6%90%ad%e5%bb%ba><span><img src=/imgs/icons/post-3.svg width=16></span>
<span>K8s集群搭建 <sup></sup></span></a></div></div></div></div><div class=content></div><div class="list list-single-col"><div class=item><div class=c-date>2025-03-22</div><a href=https://www.haipengv.com/posts/openeuler%E7%B3%BB%E7%BB%9F%E9%83%A8%E7%BD%B21.28.2%E5%8D%95%E8%8A%82%E7%82%B9%E9%9B%86%E7%BE%A4/ name=OpenEuler系统部署1.28.2单节点集群><span><img src=/imgs/icons/post-3.svg width=16></span>
<span>OpenEuler系统部署1.28.2单节点集群 <sup></sup></span></a><div class=desc><span class=date>2025-03-22 ~ 2025-03-22</span></div><div class=container-ctgtag><div class=taxonomy><div class=tag><a href=/tags/kubernetes>Kubernetes</a></div></div></div><div class=summary>Kubernetes介绍 kubernetes（k8s）是2014年由Google公司基于Go语言编写的一款开源的容器集群编排系统，用于自动化容器的部署、扩缩容和</div><div class=read-more><a href=/posts/openeuler%E7%B3%BB%E7%BB%9F%E9%83%A8%E7%BD%B21.28.2%E5%8D%95%E8%8A%82%E7%82%B9%E9%9B%86%E7%BE%A4/>····</a></div></div><div class=item><div class=c-date>2025-03-17</div><a href=https://www.haipengv.com/posts/k3s%E6%8C%81%E4%B9%85%E5%8C%96%E5%AD%98%E5%82%A8-nfs/ name="K3s持久化存储 NFS"><span><img src=/imgs/icons/post-3.svg width=16></span>
<span>K3s持久化存储 NFS <sup></sup></span></a><div class=desc><span class=date>2025-03-17 ~ 2025-03-17</span></div><div class=container-ctgtag><div class=taxonomy><div class=tag><a href=/tags/kubernetes>kubernetes</a></div></div></div><div class=summary>一、基础环境 master: 192.168.1.189 node1: 192.168.1.190 node2: 192.168.1.188 二、NFS服务端部署 本文选择 IP 为 192.168.1.188 的 node2 节点，作为 NFS 存储服务器。 安装 NFS 服务端软件包并创建共享目录 1 2 3 yum install nfs-utils -y mkdir -p /home/data/k8s chown nfsnobody:nfsnobody /home/data/k8s 编辑服务配置文件</div><div class=read-more><a href=/posts/k3s%E6%8C%81%E4%B9%85%E5%8C%96%E5%AD%98%E5%82%A8-nfs/>····</a></div></div><div class=item><div class=c-date>2025-03-17</div><a href=https://www.haipengv.com/posts/k3s%E9%83%A8%E7%BD%B2%E5%8D%95%E6%9C%BAkafka/ name=K3s部署单机kafka><span><img src=/imgs/icons/post-3.svg width=16></span>
<span>K3s部署单机kafka <sup></sup></span></a><div class=desc><span class=date>2025-03-17 ~ 2025-03-17</span></div><div class=container-ctgtag><div class=taxonomy><div class=tag><a href=/tags/kubernetes>Kubernetes</a></div></div></div><div class=summary>一、部署单机版kafka kafka部署之前先要部署zookeeper。编写部署zookeeper的YAML文件如下： 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22</div><div class=read-more><a href=/posts/k3s%E9%83%A8%E7%BD%B2%E5%8D%95%E6%9C%BAkafka/>····</a></div></div><div class=item><div class=c-date>2025-03-17</div><a href=https://www.haipengv.com/posts/k8s%E5%9B%BD%E5%86%85%E9%95%9C%E5%83%8F%E5%8A%A0%E9%80%9F%E6%9C%8D%E5%8A%A1%E6%95%B4%E7%90%86/ name=K8s国内镜像加速服务整理><span><img src=/imgs/icons/post-3.svg width=16></span>
<span>K8s国内镜像加速服务整理 <sup></sup></span></a><div class=desc><span class=date>2025-03-17 ~ 2025-03-17</span></div><div class=container-ctgtag><div class=taxonomy><div class=tag><a href=/tags/kubernetes>Kubernetes</a></div></div></div><div class=summary>主流可用 Docker 镜像加速站列表汇总 更新：所有仓库都可以使用“https://dockerhub.icu/”来拉取 首先添加地址： 1 2 3 4 5 6 7 8 sudo tee /etc/docker/daemon.json &lt;&lt;EOF { "registry-mirrors": ["https://dockerhub.icu"] } EOF sudo systemctl daemon-reload</div><div class=read-more><a href=/posts/k8s%E5%9B%BD%E5%86%85%E9%95%9C%E5%83%8F%E5%8A%A0%E9%80%9F%E6%9C%8D%E5%8A%A1%E6%95%B4%E7%90%86/>····</a></div></div><div class=item><div class=c-date>2025-03-17</div><a href=https://www.haipengv.com/posts/kubernetes%E4%BF%AE%E7%82%BC%E6%89%8B%E5%86%8C%E9%98%85%E8%AF%BB%E7%AC%94%E8%AE%B0/ name=Kubernetes修炼手册阅读笔记><span><img src=/imgs/icons/post-3.svg width=16></span>
<span>Kubernetes修炼手册阅读笔记 <sup></sup></span></a><div class=desc><span class=date>2025-03-17 ~ 2025-03-17</span></div><div class=container-ctgtag><div class=taxonomy><div class=tag><a href=/tags/kubernetes>Kubernetes</a></div></div></div><div class=summary>应用（pod）创建过程: 1 2 3 (http、restful api)api-server &lt;&mdash;&ndash;(listen) &mdash;kubelet controller &mdash;&ndash;>cri &mdash;&ndash;>Deployment controller&mdash;>pods kubectl &ndash;http post&mdash;> .yaml ->control-plane pod —> 1个或多个容器。同一个pod中多个容器之间的共享的。 svc 的作用： Deployment 扩缩容会使p</div><div class=read-more><a href=/posts/kubernetes%E4%BF%AE%E7%82%BC%E6%89%8B%E5%86%8C%E9%98%85%E8%AF%BB%E7%AC%94%E8%AE%B0/>····</a></div></div><div class=item><div class=c-date>2025-03-17</div><a href=https://www.haipengv.com/posts/%E8%BD%BB%E9%87%8Fk3s%E9%83%A8%E7%BD%B2-%E4%B8%8A%E7%AF%87/ name=轻量k3s部署-上篇><span><img src=/imgs/icons/post-3.svg width=16></span>
<span>轻量k3s部署-上篇 <sup></sup></span></a><div class=desc><span class=date>2025-03-17 ~ 2025-03-17</span></div><div class=container-ctgtag><div class=taxonomy><div class=tag><a href=/tags/kubernetes>Kubernetes</a></div></div></div><div class=summary>一、部署环境： 1 2 3 4 5 6 7 os:centos7.9 k3s-master: 192.168.1.189 k3s-node1: 192.168.1.190 k3s-node2: 192.168.1.188 注意：每台机器主机名要唯一! 二、部署前准备： 1.关闭 firewalld 1 systemctl disable firewalld &ndash;now 如果启用，则需要禁用 nm-cloud-setup 并重新启动节点： 1 2 3 systemctl disable nm-cloud-setup.service nm-cloud-setup.timer reboot</div><div class=read-more><a href=/posts/%E8%BD%BB%E9%87%8Fk3s%E9%83%A8%E7%BD%B2-%E4%B8%8A%E7%AF%87/>····</a></div></div><div class=item><div class=c-date>2025-03-17</div><a href=https://www.haipengv.com/posts/%E8%BD%BB%E9%87%8Fk3s%E9%83%A8%E7%BD%B2-%E4%B8%8B%E7%AF%87/ name=轻量k3s部署-下篇><span><img src=/imgs/icons/post-3.svg width=16></span>
<span>轻量k3s部署-下篇 <sup></sup></span></a><div class=desc><span class=date>2025-03-17 ~ 2025-03-17</span></div><div class=container-ctgtag><div class=taxonomy><div class=tag><a href=/tags/kubernetes>kubernetes</a></div></div></div><div class=summary>一、开源k8s web页面部署（openlens） 下载官方版本： <a href=https://github.com/MuhammedKalkan/OpenLens/releases>https://github.com/MuhammedKalkan/OpenLens/releases</a> 我这里使用windows版本，安装即可。 不需要部署到集群中，同时提供多平台，只需要下载对应平台的</div><div class=read-more><a href=/posts/%E8%BD%BB%E9%87%8Fk3s%E9%83%A8%E7%BD%B2-%E4%B8%8B%E7%AF%87/>····</a></div></div><div class=item><div class=c-date>2025-03-16</div><a href=https://www.haipengv.com/posts/ceph%E6%90%AD%E5%BB%BA/ name=CEPH搭建><span><img src=/imgs/icons/post-3.svg width=16></span>
<span>CEPH搭建 <sup></sup></span></a><div class=desc><span class=date>2025-03-16 ~ 2025-03-16</span></div><div class=container-ctgtag><div class=taxonomy><div class=tag><a href=/tags/kubernetes>Kubernetes</a></div></div></div><div class=summary>基于k8s的ceph集群搭建 环境 master-139 mon,osd 既做管理节点又做子节点 node1-140 mon,osd 做子节点 node2-141 mon,osd 做子节点 ceph 版本 13.2.10 mimic (stable) 系统配置 系统配置工作， 三台节点依次执行 1、修改主机名称 1 2 [root@master-139 ~]# vi /etc/hostname</div><div class=read-more><a href=/posts/ceph%E6%90%AD%E5%BB%BA/>····</a></div></div><div class=item><div class=c-date>2025-03-16</div><a href=https://www.haipengv.com/posts/cks%E5%88%9D%E5%A7%8B%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/ name=CKS初始环境搭建><span><img src=/imgs/icons/post-3.svg width=16></span>
<span>CKS初始环境搭建 <sup></sup></span></a><div class=desc><span class=date>2025-03-16 ~ 2025-03-16</span></div><div class=container-ctgtag><div class=taxonomy><div class=tag><a href=/tags/kubernetes>Kubernetes</a></div></div></div><div class=summary>准备工作 k8s主机名 IP地址 系统版本号 k8s组件版本 CKS-master 10.4.7.180 ubuntu 20.04 1.24.4 CKS-node1 10.4.7.181 ubuntu 20.04 1.24.4 CKS-node2 10.4.7.182 ubuntu 20.04 1.24.4 配置前准备 1 2 3 4 5 6 7 8 9 10 11 12 13 # 开root用户设置密码 sudo passwd root # 切换roo</div><div class=read-more><a href=/posts/cks%E5%88%9D%E5%A7%8B%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/>····</a></div></div><div class=item><div class=c-date>2025-03-16</div><a href=https://www.haipengv.com/posts/k8s%E7%BD%91%E7%BB%9C%E9%80%9A%E4%BF%A1/ name=K8s网络通信><span><img src=/imgs/icons/post-3.svg width=16></span>
<span>K8s网络通信 <sup></sup></span></a><div class=desc><span class=date>2025-03-16 ~ 2025-03-16</span></div><div class=container-ctgtag><div class=taxonomy><div class=tag><a href=/tags/kubernetes>Kubernetes</a></div></div></div><div class=summary>基于k8s中cni插件calico网络原理使用总结 1.实验环境 name version ip cni master v1.22.2 ens33:10.4.7.60 calico worker1 v1.22.2 ens33:10.4.7.61 calico worker2 v1.22.2 ens33:10.4.7.62 calico 2.实验整体拓扑 3.部署一个deployment 问题1 pod的ip</div><div class=read-more><a href=/posts/k8s%E7%BD%91%E7%BB%9C%E9%80%9A%E4%BF%A1/>····</a></div></div><div class=item><div class=c-date>2025-03-16</div><a href=https://www.haipengv.com/posts/k8s%E9%9B%86%E7%BE%A4%E6%90%AD%E5%BB%BA/ name=K8s集群搭建><span><img src=/imgs/icons/post-3.svg width=16></span>
<span>K8s集群搭建 <sup></sup></span></a><div class=desc><span class=date>2025-03-16 ~ 2025-03-16</span></div><div class=container-ctgtag><div class=taxonomy><div class=tag><a href=/tags/kubernetes>Kubernetes</a></div></div></div><div class=summary>Kubernetes （1.22.2）安装手册（Ubuntu非高可用版） 安装前准备工作 （重要！）安装k8s 1.22.2 版本需要的硬件条件： 所有节点： cpu数量2个及以上 4G 以上内存 不用开虚拟化</div><div class=read-more><a href=/posts/k8s%E9%9B%86%E7%BE%A4%E6%90%AD%E5%BB%BA/>····</a></div></div></div><div class=container-pagination></div></div></div><div id=footer><div class=container-footer><div class=beian><a target=_blank href="http://www.beian.gov.cn/portal/registerSystemInfo?recordcode="></a><a href target=_blank><span class=some>icp...<span></a></div><div class=info><a href=https://github.com/loveminimal/hugo-theme-virgo>🕊️</a> 2021 - <span id=info-date></span></div></div></div><div class=cool-after></div></body></html>