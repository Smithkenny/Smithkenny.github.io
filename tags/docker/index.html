<!doctype html><html lang=zh-CN><head><meta name=viewport content="width=device-width,initial-scale=1"><meta charset=utf-8><meta name=description content="Docker - https://www.haipengv.com/tags/docker/"><meta name=author content="Smith - https://www.haipengv.com/"><meta name=msvalidate.01 content="B46311949B856F2A7015F366FB3CE878"><title>Docker</title><base target=_self><link rel=icon type=image/png href=/favicon.ico><link rel=stylesheet href=https://www.haipengv.com/style.min.9a0cea23154ac1941e15c25aa2d31b77285a217d2606ec05b55236428cf1c3e6.css><script>const DARK=!1</script><script type=text/javascript src=/main.js defer></script></head><body class=active-animate><div class=cool-before></div><div id=header><div class=container-header><div class=right><h1 class=title>Docker</h1><div id=toc>📜</div></div></div></div><div id=content><div class="container-main container-list"><div class=toc><div class=container-page-operation><div class=page-operation><div><a href=/><img src=/imgs/icons/home-2.svg alt></a></div><div><a href=/nav><img src=/imgs/icons/iov-navigate-1.svg alt></a></div><div><a href=/wiki><img src=/imgs/icons/wiki.svg alt></a></div><div><a href=/tags><img src=/imgs/icons/treetags.svg alt></a></div><div id=light-dark><a><img src=/imgs/icons/moon2.svg alt></a></div><div><a href=#><img src=/imgs/icons/up2.svg alt></a></div></div></div><div class="list post-list"><div class=count>文章列表： 33 篇</div><div class=wrapper-item><div class=item><a href=#Centos7%e9%85%8d%e7%bd%aedocker><span><img src=/imgs/icons/post-3.svg width=16></span>
<span>Centos7配置docker <sup></sup></span></a></div><div class=item><a href=#Docker%20Compose%e6%90%ad%e5%bb%bamysql8><span><img src=/imgs/icons/post-3.svg width=16></span>
<span>Docker Compose搭建mysql8 <sup></sup></span></a></div><div class=item><a href=#Docker%e5%ae%b9%e5%99%a8%e5%81%a5%e5%ba%b7%e6%a3%80%e6%9f%a5><span><img src=/imgs/icons/post-3.svg width=16></span>
<span>Docker容器健康检查 <sup></sup></span></a></div><div class=item><a href=#Docker%e6%95%b0%e6%8d%ae%e5%8d%b7%e4%bd%bf%e7%94%a8><span><img src=/imgs/icons/post-3.svg width=16></span>
<span>Docker数据卷使用 <sup></sup></span></a></div><div class=item><a href=#Docker%e6%97%a0%e7%94%a8%e8%b5%84%e6%ba%90%e6%b8%85%e7%90%86><span><img src=/imgs/icons/post-3.svg width=16></span>
<span>Docker无用资源清理 <sup></sup></span></a></div><div class=item><a href=#Dockerfile%e6%8c%87%e4%bb%a4%e8%af%a6%e8%a7%a3><span><img src=/imgs/icons/post-3.svg width=16></span>
<span>Dockerfile指令详解 <sup></sup></span></a></div><div class=item><a href=#Docker%e4%b8%ad%e7%89%b9%e6%ae%8a%e7%9a%84%e9%95%9c%e5%83%8f><span><img src=/imgs/icons/post-3.svg width=16></span>
<span>Docker中特殊的镜像 <sup></sup></span></a></div><div class=item><a href=#Docker%e5%88%9b%e5%bb%ba%e5%ae%b9%e5%99%a8rm%e5%8f%82%e6%95%b0%e4%bd%bf%e7%94%a8><span><img src=/imgs/icons/post-3.svg width=16></span>
<span>Docker创建容器rm参数使用 <sup></sup></span></a></div><div class=item><a href=#Docker%e5%88%a0%e9%99%a4%e9%80%80%e5%87%ba%e7%9a%84%e5%ae%b9%e5%99%a8><span><img src=/imgs/icons/post-3.svg width=16></span>
<span>Docker删除退出的容器 <sup></sup></span></a></div><div class=item><a href=#Docker%e5%ba%94%e7%94%a8%e5%bc%80%e5%8f%9101><span><img src=/imgs/icons/post-3.svg width=16></span>
<span>Docker应用开发01 <sup></sup></span></a></div><div class=item><a href=#Docker%e5%ba%94%e7%94%a8%e5%bc%80%e5%8f%9102><span><img src=/imgs/icons/post-3.svg width=16></span>
<span>Docker应用开发02 <sup></sup></span></a></div><div class=item><a href=#Docker%e5%ba%94%e7%94%a8%e5%bc%80%e5%8f%9103><span><img src=/imgs/icons/post-3.svg width=16></span>
<span>Docker应用开发03 <sup></sup></span></a></div><div class=item><a href=#Docker%e6%95%b0%e6%8d%ae%e5%8d%b7%e5%88%9b%e5%bb%ba%e4%b8%8e%e5%85%b1%e4%ba%ab><span><img src=/imgs/icons/post-3.svg width=16></span>
<span>Docker数据卷创建与共享 <sup></sup></span></a></div><div class=item><a href=#Docker%e6%98%a0%e5%b0%84%e7%ab%af%e5%8f%a3%e6%96%b9%e5%bc%8f><span><img src=/imgs/icons/post-3.svg width=16></span>
<span>Docker映射端口方式 <sup></sup></span></a></div><div class=item><a href=#Docker%e9%87%8a%e6%94%be%e7%a9%ba%e6%a0%87%e7%ad%be%e9%95%9c%e5%83%8f><span><img src=/imgs/icons/post-3.svg width=16></span>
<span>Docker释放空标签镜像 <sup></sup></span></a></div><div class=item><a href=#Docker%e9%95%9c%e5%83%8f%e4%bb%a5%e7%89%b9%e6%ae%8a%e6%a0%bc%e5%bc%8f%e6%98%be%e7%a4%ba><span><img src=/imgs/icons/post-3.svg width=16></span>
<span>Docker镜像以特殊格式显示 <sup></sup></span></a></div><div class=item><a href=#Docker%e9%95%9c%e5%83%8f%e6%9e%84%e5%bb%ba%e4%b8%8a%e4%b8%8b%e6%96%87><span><img src=/imgs/icons/post-3.svg width=16></span>
<span>Docker镜像构建上下文 <sup></sup></span></a></div><div class=item><a href=#%e4%bd%bf%e7%94%a8Dockerfile%e5%88%9b%e5%bb%ba%e9%95%9c%e5%83%8f><span><img src=/imgs/icons/post-3.svg width=16></span>
<span>使用Dockerfile创建镜像 <sup></sup></span></a></div><div class=item><a href=#%e8%87%aa%e5%bb%ba%e4%bb%93%e5%ba%93registry%e4%bd%bf%e7%94%a8%e8%af%81%e4%b9%a6%e8%ae%a4%e8%af%81%e6%96%b9%e6%b3%95><span><img src=/imgs/icons/post-3.svg width=16></span>
<span>自建仓库registry使用证书认证方法 <sup></sup></span></a></div><div class=item><a href=#%e8%87%aa%e5%bb%ba%e6%9c%ac%e5%9c%b0%e9%95%9c%e5%83%8f%e4%bb%93%e5%ba%93Registry><span><img src=/imgs/icons/post-3.svg width=16></span>
<span>自建本地镜像仓库Registry <sup></sup></span></a></div><div class=item><a href=#Centos7.3%e7%a6%bb%e7%ba%bf%e5%ae%89%e8%a3%85docker><span><img src=/imgs/icons/post-3.svg width=16></span>
<span>Centos7.3离线安装docker <sup></sup></span></a></div><div class=item><a href=#Docker%e5%86%b7%e9%97%a8%e6%8a%80%e5%b7%a7><span><img src=/imgs/icons/post-3.svg width=16></span>
<span>Docker冷门技巧 <sup></sup></span></a></div><div class=item><a href=#Docker%e5%88%9b%e5%bb%ba%e4%b8%93%e6%9c%89%e7%bd%91%e5%8d%a1><span><img src=/imgs/icons/post-3.svg width=16></span>
<span>Docker创建专有网卡 <sup></sup></span></a></div><div class=item><a href=#Docker%e5%9f%ba%e7%a1%80><span><img src=/imgs/icons/post-3.svg width=16></span>
<span>Docker基础 <sup></sup></span></a></div><div class=item><a href=#Docker%e5%ae%89%e8%a3%85jupyter><span><img src=/imgs/icons/post-3.svg width=16></span>
<span>Docker安装jupyter <sup></sup></span></a></div><div class=item><a href=#Docker%e9%85%8d%e7%bd%aetab%e8%a1%a5%e5%85%a8%e5%91%bd%e4%bb%a4><span><img src=/imgs/icons/post-3.svg width=16></span>
<span>Docker配置tab补全命令 <sup></sup></span></a></div><div class=item><a href=#Docker%e9%95%9c%e5%83%8f%e5%8a%a0%e9%80%9f><span><img src=/imgs/icons/post-3.svg width=16></span>
<span>Docker镜像加速 <sup></sup></span></a></div><div class=item><a href=#GHCR%e9%95%9c%e5%83%8f%e5%8a%a0%e9%80%9f%e6%96%b9%e5%bc%8f><span><img src=/imgs/icons/post-3.svg width=16></span>
<span>GHCR镜像加速方式 <sup></sup></span></a></div><div class=item><a href=#Harbor%e4%bd%bf%e7%94%a8%e8%87%aa%e7%ad%be%e5%90%8d%e8%af%81%e4%b9%a6%e5%ae%9e%e7%8e%b0https%e7%99%bb%e5%bd%95><span><img src=/imgs/icons/post-3.svg width=16></span>
<span>Harbor使用自签名证书实现https登录 <sup></sup></span></a></div><div class=item><a href=#Harbor%e5%ae%89%e8%a3%85%e4%b8%8e%e7%ae%80%e5%8d%95%e4%bd%bf%e7%94%a8><span><img src=/imgs/icons/post-3.svg width=16></span>
<span>Harbor安装与简单使用 <sup></sup></span></a></div><div class=item><a href=#Ubuntu20.04%e5%ae%89%e8%a3%85docker><span><img src=/imgs/icons/post-3.svg width=16></span>
<span>Ubuntu20.04安装docker <sup></sup></span></a></div><div class=item><a href=#%e4%b8%8d%e5%90%8c%e6%9e%b6%e6%9e%84%e5%b9%b3%e5%8f%b0%e4%b8%8bDocker%e5%ae%98%e6%96%b9%e9%95%9c%e5%83%8f%e5%8c%85%e6%9f%a5%e6%89%be%e8%af%b4%e6%98%8e><span><img src=/imgs/icons/post-3.svg width=16></span>
<span>不同架构平台下Docker官方镜像包查找说明 <sup></sup></span></a></div><div class=item><a href=#%e4%bd%bf%e7%94%a8docker%e6%90%ad%e5%bb%baopenvpn><span><img src=/imgs/icons/post-3.svg width=16></span>
<span>使用docker搭建openvpn <sup></sup></span></a></div></div></div></div><div class=content></div><div class="list list-single-col"><div class=item><div class=c-date>2025-03-19</div><a href=https://www.haipengv.com/posts/centos7%E9%85%8D%E7%BD%AEdocker/ name=Centos7配置docker><span><img src=/imgs/icons/post-3.svg width=16></span>
<span>Centos7配置docker <sup></sup></span></a><div class=desc><span class=date>2025-03-19 ~ 2025-03-19</span></div><div class=container-ctgtag><div class=taxonomy><div class=tag><a href=/tags/docker>Docker</a></div></div></div><div class=summary>1、卸载旧版本docker 卸载旧版本docker命令 yum remove docker \ docker-client \ docker-client-latest \ docker-common \ docker-latest \ docker-latest-logrotate \ docker-logrotate \ docker-engine 2、安装docker的yum库 1 yum install -y yum-utils 3、配置docker的yum源 1 yum-config-manager</div><div class=read-more><a href=/posts/centos7%E9%85%8D%E7%BD%AEdocker/>····</a></div></div><div class=item><div class=c-date>2025-03-19</div><a href=https://www.haipengv.com/posts/docker-compose%E6%90%AD%E5%BB%BAmysql8/ name="Docker Compose搭建mysql8"><span><img src=/imgs/icons/post-3.svg width=16></span>
<span>Docker Compose搭建mysql8 <sup></sup></span></a><div class=desc><span class=date>2025-03-19 ~ 2025-03-19</span></div><div class=container-ctgtag><div class=taxonomy><div class=tag><a href=/tags/docker>Docker</a></div></div></div><div class=summary>创建dockerfile文件名称为docker-compose.yaml 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 docker-compose.yaml version: '3.9' services: mysql: image: mysql:8.2.0 ports: - 3306:3306 volumes: - ~/apps/mysql:/var/lib/mysql environment: - MYSQL_ROOT_PASSWORD=A123456 - MYSQL_PASSWORD=A123456 - MYSQL_USER=citizix_user - MYSQL_DATABASE=citizix_db 运行： 1 docker-compose up -d</div></div><div class=item><div class=c-date>2025-03-19</div><a href=https://www.haipengv.com/posts/docker%E5%AE%B9%E5%99%A8%E5%81%A5%E5%BA%B7%E6%A3%80%E6%9F%A5/ name=Docker容器健康检查><span><img src=/imgs/icons/post-3.svg width=16></span>
<span>Docker容器健康检查 <sup></sup></span></a><div class=desc><span class=date>2025-03-19 ~ 2025-03-19</span></div><div class=container-ctgtag><div class=taxonomy><div class=tag><a href=/tags/docker>Docker</a></div></div></div><div class=summary>如何实时检测业务运行状态？编写dockerfile时候加入如下参数即可： 1 2 3 4 5 6 7 8 9 10 healthcheck: interval: 30s retries: 5 start_period: 30s test: - CMD - curl - -f - http://localhost:8090/actuator/health/readiness timeout: 5s 30s检测一次，超时5s，若失败</div><div class=read-more><a href=/posts/docker%E5%AE%B9%E5%99%A8%E5%81%A5%E5%BA%B7%E6%A3%80%E6%9F%A5/>····</a></div></div><div class=item><div class=c-date>2025-03-19</div><a href=https://www.haipengv.com/posts/docker%E6%95%B0%E6%8D%AE%E5%8D%B7%E4%BD%BF%E7%94%A8/ name=Docker数据卷使用><span><img src=/imgs/icons/post-3.svg width=16></span>
<span>Docker数据卷使用 <sup></sup></span></a><div class=desc><span class=date>2025-03-19 ~ 2025-03-19</span></div><div class=container-ctgtag><div class=taxonomy><div class=tag><a href=/tags/docker>Docker</a></div></div></div><div class=summary>1.创建数据卷 1 docker volume create my_volume 2.挂载数据卷 1 docker run -d -v my_volume:/data &ndash;name my_container nginx 或者用–mount 选项 1 docker run -d &ndash;mount source=my_volume,target=/data &ndash;name my_container nginx 3.查看数据卷 1 docker volume ls 4.查看特定数据卷详情 1 docker volume inspect</div><div class=read-more><a href=/posts/docker%E6%95%B0%E6%8D%AE%E5%8D%B7%E4%BD%BF%E7%94%A8/>····</a></div></div><div class=item><div class=c-date>2025-03-19</div><a href=https://www.haipengv.com/posts/docker%E6%97%A0%E7%94%A8%E8%B5%84%E6%BA%90%E6%B8%85%E7%90%86/ name=Docker无用资源清理><span><img src=/imgs/icons/post-3.svg width=16></span>
<span>Docker无用资源清理 <sup></sup></span></a><div class=desc><span class=date>2025-03-19 ~ 2025-03-19</span></div><div class=container-ctgtag><div class=taxonomy><div class=tag><a href=/tags/docker>Docker</a></div></div></div><div class=summary>docker无用资源清理 1.清理已经退出的容器 1 $ docker container prune 2.清理标签为none的镜像 1 $ docker images prune 3.清理volume卷 1 $ docker volume prune</div></div><div class=item><div class=c-date>2025-03-18</div><a href=https://www.haipengv.com/posts/dockerfile%E6%8C%87%E4%BB%A4%E8%AF%A6%E8%A7%A3/ name=Dockerfile指令详解><span><img src=/imgs/icons/post-3.svg width=16></span>
<span>Dockerfile指令详解 <sup></sup></span></a><div class=desc><span class=date>2025-03-18 ~ 2025-03-18</span></div><div class=container-ctgtag><div class=taxonomy><div class=tag><a href=/tags/docker>Docker</a></div></div></div><div class=summary>1.COPY复制文件 格式： COPY [&ndash;chown=&lt;user>:&lt;group>] &lt;源路径>&mldr; &lt;目标路径> COPY [&ndash;chown=&lt;user>:&lt;group>] ["&lt;源路径1>",&mldr; "&amp;l</div><div class=read-more><a href=/posts/dockerfile%E6%8C%87%E4%BB%A4%E8%AF%A6%E8%A7%A3/>····</a></div></div><div class=item><div class=c-date>2025-03-18</div><a href=https://www.haipengv.com/posts/docker%E4%B8%AD%E7%89%B9%E6%AE%8A%E7%9A%84%E9%95%9C%E5%83%8F/ name=Docker中特殊的镜像><span><img src=/imgs/icons/post-3.svg width=16></span>
<span>Docker中特殊的镜像 <sup></sup></span></a><div class=desc><span class=date>2025-03-18 ~ 2025-03-18</span></div><div class=container-ctgtag><div class=taxonomy><div class=tag><a href=/tags/docker>Docker</a></div></div></div><div class=summary>除了选择现有镜像为基础镜像外，Docker 还存在一个特殊的镜像，名为 scratch。这个镜像是虚拟的概念，并不实际存在，它表示一个空白的镜像。 1 2 FROM scratch &mldr; 如果你以</div><div class=read-more><a href=/posts/docker%E4%B8%AD%E7%89%B9%E6%AE%8A%E7%9A%84%E9%95%9C%E5%83%8F/>····</a></div></div><div class=item><div class=c-date>2025-03-18</div><a href=https://www.haipengv.com/posts/docker%E5%88%9B%E5%BB%BA%E5%AE%B9%E5%99%A8rm%E5%8F%82%E6%95%B0%E4%BD%BF%E7%94%A8/ name=Docker创建容器rm参数使用><span><img src=/imgs/icons/post-3.svg width=16></span>
<span>Docker创建容器rm参数使用 <sup></sup></span></a><div class=desc><span class=date>2025-03-18 ~ 2025-03-18</span></div><div class=container-ctgtag><div class=taxonomy><div class=tag><a href=/tags/docker>Docker</a></div></div></div><div class=summary>1.创建容器，容器停止后立即删除 1 docker run &ndash;rm &ndash;name web -p 8080:8080 ubuntu:latest 注意: <code>&amp;ndash;rm</code> 参数不可和<code>-d</code>参数同时使用 使用一下参数找不到运行过的容器 1 docker ps -a</div></div><div class=item><div class=c-date>2025-03-18</div><a href=https://www.haipengv.com/posts/docker%E5%88%A0%E9%99%A4%E9%80%80%E5%87%BA%E7%9A%84%E5%AE%B9%E5%99%A8/ name=Docker删除退出的容器><span><img src=/imgs/icons/post-3.svg width=16></span>
<span>Docker删除退出的容器 <sup></sup></span></a><div class=desc><span class=date>2025-03-18 ~ 2025-03-18</span></div><div class=container-ctgtag><div class=taxonomy><div class=tag><a href=/tags/docker>Docker</a></div></div></div><div class=summary>1.查看所有容器 1 2 3 4 5 6 7 [root@k3s-storage my_app]# docker ps -a CONTAINER ID IMAGE COMMAND CREATED STATUS PORTS NAMES 5c48e6776033 fd6c16bb0dd9 "/bin/sh -c 'pip ins…" 3 minutes ago Exited (2) 3 minutes ago determined_taussig 295eaaec53ac c1bb875edc55 "/bin/sh -c 'pip ins…" 22 minutes ago Exited (2) 22 minutes ago interesting_elgamal 431f19866106 055e8a2355d0 "/bin/sh -c 'pip i</div><div class=read-more><a href=/posts/docker%E5%88%A0%E9%99%A4%E9%80%80%E5%87%BA%E7%9A%84%E5%AE%B9%E5%99%A8/>····</a></div></div><div class=item><div class=c-date>2025-03-18</div><a href=https://www.haipengv.com/posts/docker%E5%BA%94%E7%94%A8%E5%BC%80%E5%8F%9101/ name=Docker应用开发01><span><img src=/imgs/icons/post-3.svg width=16></span>
<span>Docker应用开发01 <sup></sup></span></a><div class=desc><span class=date>2025-03-18 ~ 2025-03-18</span></div><div class=container-ctgtag><div class=taxonomy><div class=tag><a href=/tags/docker>Docker</a></div></div></div><div class=summary>1.项目概述 开发一个web应用接口，能够通过该接口实现对数据库中数据的增删改。 2.工具准备 idea docker mongodb robo 3T springboot postman 3.开发过程 3.1 docker中搭建mongo数据库 1 docker run -itd</div><div class=read-more><a href=/posts/docker%E5%BA%94%E7%94%A8%E5%BC%80%E5%8F%9101/>····</a></div></div><div class=item><div class=c-date>2025-03-18</div><a href=https://www.haipengv.com/posts/docker%E5%BA%94%E7%94%A8%E5%BC%80%E5%8F%9102/ name=Docker应用开发02><span><img src=/imgs/icons/post-3.svg width=16></span>
<span>Docker应用开发02 <sup></sup></span></a><div class=desc><span class=date>2025-03-18 ~ 2025-03-18</span></div><div class=container-ctgtag><div class=taxonomy><div class=tag><a href=/tags/docker>Docker</a></div></div></div><div class=summary>1.项目回顾 上一篇我们使用容器搭建了mongo数据库并创建了具有读写操作的用户，本篇我们将使用idea工具创建springboot项目和mongo数据库结合起来</div><div class=read-more><a href=/posts/docker%E5%BA%94%E7%94%A8%E5%BC%80%E5%8F%9102/>····</a></div></div><div class=item><div class=c-date>2025-03-18</div><a href=https://www.haipengv.com/posts/docker%E5%BA%94%E7%94%A8%E5%BC%80%E5%8F%9103/ name=Docker应用开发03><span><img src=/imgs/icons/post-3.svg width=16></span>
<span>Docker应用开发03 <sup></sup></span></a><div class=desc><span class=date>2025-03-18 ~ 2025-03-18</span></div><div class=container-ctgtag><div class=taxonomy><div class=tag><a href=/tags/docker>Docker</a></div></div></div><div class=summary>1.项目回顾 上篇文章中我们使用idea创建了springboot项目并且和mongo数据库整合。本篇将使用idea把springboot项目代码打包成jar包，</div><div class=read-more><a href=/posts/docker%E5%BA%94%E7%94%A8%E5%BC%80%E5%8F%9103/>····</a></div></div><div class=item><div class=c-date>2025-03-18</div><a href=https://www.haipengv.com/posts/docker%E6%95%B0%E6%8D%AE%E5%8D%B7%E5%88%9B%E5%BB%BA%E4%B8%8E%E5%85%B1%E4%BA%AB/ name=Docker数据卷创建与共享><span><img src=/imgs/icons/post-3.svg width=16></span>
<span>Docker数据卷创建与共享 <sup></sup></span></a><div class=desc><span class=date>2025-03-18 ~ 2025-03-18</span></div><div class=container-ctgtag><div class=taxonomy><div class=tag><a href=/tags/docker>Docker</a></div></div></div><div class=summary>1.docker将宿主机和容器内部路径映射 方式1： 1 2 [root@k3s-storage volume-ubuntu]# docker run -itd &ndash;name test-ubuntu1 -v /home/volume-ubuntu:/usr/sbin ubuntu:latest bash 875c2d5e3e45d38cb31d586d4530472ba74beeb5e84c32bfc26849d880dfb11f 方式2： 1 2 [root@k3s-storage volume-ubuntu]# docker run -itd &ndash;name test-ubuntu1 -v $(pwd):/usr/sbin ubuntu:latest bash 651c856a202e52fa66f316f60568c9c0fd844bc02efbd137e3b45974cad7a1df 宿主机路径： 1 /home/volume-ubuntu 容器内路径： 1 /usr/sbin 1.1 测试 进入/h</div><div class=read-more><a href=/posts/docker%E6%95%B0%E6%8D%AE%E5%8D%B7%E5%88%9B%E5%BB%BA%E4%B8%8E%E5%85%B1%E4%BA%AB/>····</a></div></div><div class=item><div class=c-date>2025-03-18</div><a href=https://www.haipengv.com/posts/docker%E6%98%A0%E5%B0%84%E7%AB%AF%E5%8F%A3%E6%96%B9%E5%BC%8F/ name=Docker映射端口方式><span><img src=/imgs/icons/post-3.svg width=16></span>
<span>Docker映射端口方式 <sup></sup></span></a><div class=desc><span class=date>2025-03-18 ~ 2025-03-18</span></div><div class=container-ctgtag><div class=taxonomy><div class=tag><a href=/tags/docker>Docker</a></div></div></div><div class=summary>1.指定端口 创建容器时使用小写p来指定端口。 1 2 [root@k3s-storage test-build]# docker run -d &ndash;name myapp -p 8080:8080 app:v1.0 344efe4c10f47e72624e3bbe341378cb8dd21de9259d7d14f9aa40b9a3d5e8d8 2.随机端口 创建容器时使用大写P随机创建端口。 1 2 [root@k3s-storage test-build]# docker run -d &ndash;name myapp2 -P app:v1.0 dcb87cd6df301fe712d666f80560575f1dad7167005498f8aa561f083f8d3704 3.查看容器启动信息</div><div class=read-more><a href=/posts/docker%E6%98%A0%E5%B0%84%E7%AB%AF%E5%8F%A3%E6%96%B9%E5%BC%8F/>····</a></div></div><div class=item><div class=c-date>2025-03-18</div><a href=https://www.haipengv.com/posts/docker%E9%87%8A%E6%94%BE%E7%A9%BA%E6%A0%87%E7%AD%BE%E9%95%9C%E5%83%8F/ name=Docker释放空标签镜像><span><img src=/imgs/icons/post-3.svg width=16></span>
<span>Docker释放空标签镜像 <sup></sup></span></a><div class=desc><span class=date>2025-03-18 ~ 2025-03-18</span></div><div class=container-ctgtag><div class=taxonomy><div class=tag><a href=/tags/docker>Docker</a></div></div></div><div class=summary>1.查看空标签镜像 1 2 3 [root@k3s-storage my_app]# docker images -f dangling=true REPOSITORY TAG IMAGE ID CREATED SIZE &lt;none> &lt;none> fd6c16bb0dd9 About a minute ago 126MB 2.过滤镜像ID 1 2 [root@k3s-storage my_app]# docker images -f dangling=true -q fd6c16bb0dd9 3.根据镜像ID删除镜像 1 2 3 4 [root@k3s-storage my_app]# docker rmi -f $(docker images -f dangling=true -q) Deleted: sha256:fd6c16bb0dd942c4f844043dcbc0440a42cfef13bb36dbb7e99d292fd64077b9 Deleted: sha256:20b3cabfb57470d3e399effe31c63a47907144a810afb6270af23574821eb911</div><div class=read-more><a href=/posts/docker%E9%87%8A%E6%94%BE%E7%A9%BA%E6%A0%87%E7%AD%BE%E9%95%9C%E5%83%8F/>····</a></div></div><div class=item><div class=c-date>2025-03-18</div><a href=https://www.haipengv.com/posts/docker%E9%95%9C%E5%83%8F%E4%BB%A5%E7%89%B9%E6%AE%8A%E6%A0%BC%E5%BC%8F%E6%98%BE%E7%A4%BA/ name=Docker镜像以特殊格式显示><span><img src=/imgs/icons/post-3.svg width=16></span>
<span>Docker镜像以特殊格式显示 <sup></sup></span></a><div class=desc><span class=date>2025-03-18 ~ 2025-03-18</span></div><div class=container-ctgtag><div class=taxonomy><div class=tag><a href=/tags/docker>Docker</a></div></div></div><div class=summary>Go的模板语法 1.只包含镜像ID和仓库名 1 2 3 4 5 6 7 8 9 10 11 12 13 14 [root@k3s-storage ~]# docker images &ndash;format {{.ID}}:{{.Repository}} 264a0301158b:app 40bd3c2209ce:debian 35a88802559d:ubuntu 35a88802559d:siyu.com/ubuntu 316c66731791:siyu.com/bitnami/kafka a8837b6f2100:siyu.com/bitnami/zookeeper 1d34ffeaf190:siyu.com/alpine 99307ab28a49:provectuslabs/kafka-ui 462828d2b59e:python 5e428d3f074a:harisekhon/alpine-java d6b2c32a0f14:registry 65ad0d468eb1:siyu.com/busybox d2c94e258dcb:hello-world 2.以表格等距显示，并且有标题行 1 2 3 4 5 6 7 8 9 10 11</div><div class=read-more><a href=/posts/docker%E9%95%9C%E5%83%8F%E4%BB%A5%E7%89%B9%E6%AE%8A%E6%A0%BC%E5%BC%8F%E6%98%BE%E7%A4%BA/>····</a></div></div><div class=item><div class=c-date>2025-03-18</div><a href=https://www.haipengv.com/posts/docker%E9%95%9C%E5%83%8F%E6%9E%84%E5%BB%BA%E4%B8%8A%E4%B8%8B%E6%96%87/ name=Docker镜像构建上下文><span><img src=/imgs/icons/post-3.svg width=16></span>
<span>Docker镜像构建上下文 <sup></sup></span></a><div class=desc><span class=date>2025-03-18 ~ 2025-03-18</span></div><div class=container-ctgtag><div class=taxonomy><div class=tag><a href=/tags/docker>Docker</a></div></div></div><div class=summary>docker build 命令后有一个.。.表示当前目录。这个目录并不是Dockerfile文件所在的目录。这里上下文路径。 当构建的时候，用户会指定构建镜像上下文路径，docker build</div><div class=read-more><a href=/posts/docker%E9%95%9C%E5%83%8F%E6%9E%84%E5%BB%BA%E4%B8%8A%E4%B8%8B%E6%96%87/>····</a></div></div><div class=item><div class=c-date>2025-03-18</div><a href=https://www.haipengv.com/posts/%E4%BD%BF%E7%94%A8dockerfile%E5%88%9B%E5%BB%BA%E9%95%9C%E5%83%8F/ name=使用Dockerfile创建镜像><span><img src=/imgs/icons/post-3.svg width=16></span>
<span>使用Dockerfile创建镜像 <sup></sup></span></a><div class=desc><span class=date>2025-03-18 ~ 2025-03-18</span></div><div class=container-ctgtag><div class=taxonomy><div class=tag><a href=/tags/docker>Docker</a></div></div></div><div class=summary>1.构建示例 1.1 文件层级 1 2 3 4 5 6 7 [root@k3s-storage test-build]# tree . ├── Dockerfile └── target └── 123.txt 1 directory, 2 files 1.2 Dockerfile文件内容 1 2 3 4 5 6 7 FROM siyu.com/alpine:latest VOLUME /tmp COPY target/123.txt /tmp RUN apk add &ndash;no-cache python3 EXPOSE 8080 ENV NAME World CMD ["python3", "-m",</div><div class=read-more><a href=/posts/%E4%BD%BF%E7%94%A8dockerfile%E5%88%9B%E5%BB%BA%E9%95%9C%E5%83%8F/>····</a></div></div><div class=item><div class=c-date>2025-03-18</div><a href=https://www.haipengv.com/posts/%E8%87%AA%E5%BB%BA%E4%BB%93%E5%BA%93registry%E4%BD%BF%E7%94%A8%E8%AF%81%E4%B9%A6%E8%AE%A4%E8%AF%81%E6%96%B9%E6%B3%95/ name=自建仓库registry使用证书认证方法><span><img src=/imgs/icons/post-3.svg width=16></span>
<span>自建仓库registry使用证书认证方法 <sup></sup></span></a><div class=desc><span class=date>2025-03-18 ~ 2025-03-18</span></div><div class=container-ctgtag><div class=taxonomy><div class=tag><a href=/tags/docker>Docker</a></div></div></div><div class=summary>1.证书创建过程 服务端创建所需目录 1 mkdir -p /home/docker-registry/certs /home/docker-registry/registry 1.1 创建配置文件（san.cnf） 创建一个文本文件，命名为 san.cnf，用于定义证书生成的配置。示例内容如下： 1 2 3</div><div class=read-more><a href=/posts/%E8%87%AA%E5%BB%BA%E4%BB%93%E5%BA%93registry%E4%BD%BF%E7%94%A8%E8%AF%81%E4%B9%A6%E8%AE%A4%E8%AF%81%E6%96%B9%E6%B3%95/>····</a></div></div><div class=item><div class=c-date>2025-03-17</div><a href=https://www.haipengv.com/posts/%E8%87%AA%E5%BB%BA%E6%9C%AC%E5%9C%B0%E9%95%9C%E5%83%8F%E4%BB%93%E5%BA%93-registry/ name=自建本地镜像仓库Registry><span><img src=/imgs/icons/post-3.svg width=16></span>
<span>自建本地镜像仓库Registry <sup></sup></span></a><div class=desc><span class=date>2025-03-17 ~ 2025-03-17</span></div><div class=container-ctgtag><div class=taxonomy><div class=tag><a href=/tags/docker>Docker</a></div></div></div><div class=summary>一、起因 使用k3s拉取镜像时总是会遇到拉取失败，所以如果把需要的镜像都存放到本地仓库中，每次使用只需要从本地仓库中获取，这样方便许多。 二、部署过程 选用和k3s集</div><div class=read-more><a href=/posts/%E8%87%AA%E5%BB%BA%E6%9C%AC%E5%9C%B0%E9%95%9C%E5%83%8F%E4%BB%93%E5%BA%93-registry/>····</a></div></div><div class=item><div class=c-date>2025-03-16</div><a href=https://www.haipengv.com/posts/centos7.3%E7%A6%BB%E7%BA%BF%E5%AE%89%E8%A3%85docker/ name=Centos7.3离线安装docker><span><img src=/imgs/icons/post-3.svg width=16></span>
<span>Centos7.3离线安装docker <sup></sup></span></a><div class=desc><span class=date>2025-03-16 ~ 2025-03-16</span></div><div class=container-ctgtag><div class=taxonomy><div class=tag><a href=/tags/docker>Docker</a></div></div></div><div class=summary>离线安装 1 2 3 [root@HZ ~]$ uname -a Linux HZ 3.10.0-514.el7.centos.x86_64 #1 SMP Fri Jan 13 15:16:57 CST 2017 x86_64 x86_64 x86_64 GNU/Linux CentOS Linux release 7.3.1611 (Core) 离线包下载 <a href=https://download.docker.com/linux/static/stable/x86_64/>https://download.docker.com/linux/static/stable/x86_64/</a> 在这里我选在下载的版本是：docker-20.10.9.tgz 上传到服务器上 开始安装 创</div><div class=read-more><a href=/posts/centos7.3%E7%A6%BB%E7%BA%BF%E5%AE%89%E8%A3%85docker/>····</a></div></div><div class=item><div class=c-date>2025-03-16</div><a href=https://www.haipengv.com/posts/docker%E5%86%B7%E9%97%A8%E6%8A%80%E5%B7%A7/ name=Docker冷门技巧><span><img src=/imgs/icons/post-3.svg width=16></span>
<span>Docker冷门技巧 <sup></sup></span></a><div class=desc><span class=date>2025-03-16 ~ 2025-03-16</span></div><div class=container-ctgtag><div class=taxonomy><div class=tag><a href=/tags/docker>Docker</a></div></div></div><div class=summary>查看docker镜像的dockerfile 将&lt;IMAGE ID>替换为待查看Dockerfile的镜像ID。 1 docker history &lt;IMAGE ID> &ndash;format "{{.CreatedBy}}" &ndash;no-trunc |tac | awk '{if($3~/nop/){for(i=1;i&lt;=3;i++){$i=""};print substr($0,4)}else{print "RUN",$0}}' 对比 1 2 3 4 5</div><div class=read-more><a href=/posts/docker%E5%86%B7%E9%97%A8%E6%8A%80%E5%B7%A7/>····</a></div></div><div class=item><div class=c-date>2025-03-16</div><a href=https://www.haipengv.com/posts/docker%E5%88%9B%E5%BB%BA%E4%B8%93%E6%9C%89%E7%BD%91%E5%8D%A1/ name=Docker创建专有网卡><span><img src=/imgs/icons/post-3.svg width=16></span>
<span>Docker创建专有网卡 <sup></sup></span></a><div class=desc><span class=date>2025-03-16 ~ 2025-03-16</span></div><div class=container-ctgtag><div class=taxonomy><div class=tag><a href=/tags/docker>Docker</a></div></div></div><div class=summary>docker创建专有网卡 需求： tomcat容器需要通过jdbc模块连接数据库mysql，配置文件如果指定IP地址，mysql容器一旦损坏，IP地址就会更改，需要</div><div class=read-more><a href=/posts/docker%E5%88%9B%E5%BB%BA%E4%B8%93%E6%9C%89%E7%BD%91%E5%8D%A1/>····</a></div></div><div class=item><div class=c-date>2025-03-16</div><a href=https://www.haipengv.com/posts/docker%E5%9F%BA%E7%A1%80/ name=Docker基础><span><img src=/imgs/icons/post-3.svg width=16></span>
<span>Docker基础 <sup></sup></span></a><div class=desc><span class=date>2025-03-16 ~ 2025-03-16</span></div><div class=container-ctgtag><div class=taxonomy><div class=tag><a href=/tags/docker>Docker</a></div></div></div><div class=summary>安装及命令 Docker命令 常用 1 2 3 4 5 6 7 8 9 10 11 docker version docker info docker pull docker login docker logout docker images docker ps -a docker start|stop|restart docker rm xxxx docker rmi xxxx docker exec -it <code>name OR id</code> /bin/bash 批量停止删除容器和镜像 停止所有容器 1 docker stop $(docker ps -aq) 删</div><div class=read-more><a href=/posts/docker%E5%9F%BA%E7%A1%80/>····</a></div></div><div class=item><div class=c-date>2025-03-16</div><a href=https://www.haipengv.com/posts/docker%E5%AE%89%E8%A3%85jupyter/ name=Docker安装jupyter><span><img src=/imgs/icons/post-3.svg width=16></span>
<span>Docker安装jupyter <sup></sup></span></a><div class=desc><span class=date>2025-03-16 ~ 2025-03-16</span></div><div class=container-ctgtag><div class=taxonomy><div class=tag><a href=/tags/docker>Docker</a></div></div></div><div class=summary>安装jupyter 1、登录dockerhub查看需要的Jupyter - Docker Official Images。 2、下载jupyter镜像（以6.4.12为例） docker pull jupyter/base-notebook:notebook-6.4.12 3、创建配置目录 mkdir</div><div class=read-more><a href=/posts/docker%E5%AE%89%E8%A3%85jupyter/>····</a></div></div><div class=item><div class=c-date>2025-03-16</div><a href=https://www.haipengv.com/posts/docker%E9%85%8D%E7%BD%AEtab%E8%A1%A5%E5%85%A8%E5%91%BD%E4%BB%A4/ name=Docker配置tab补全命令><span><img src=/imgs/icons/post-3.svg width=16></span>
<span>Docker配置tab补全命令 <sup></sup></span></a><div class=desc><span class=date>2025-03-16 ~ 2025-03-16</span></div><div class=container-ctgtag><div class=taxonomy><div class=tag><a href=/tags/docker>Docker</a></div></div></div><div class=summary>docker使用tab自动补全命令 On RHEL-based systems dnf install bash-completion -y yum install bash-completion -y On Debian-based systems 1 apt-get install bash-completion -y 下载命令补全文件 1 curl <a href=https://raw.githubusercontent.com/docker/docker-ce/master/components/cli/contrib/completion/bash/docker>https://raw.githubusercontent.com/docker/docker-ce/master/components/cli/contrib/completion/bash/docker</a> -o /etc/bash_completion.d/docker.sh 如果下载失败最后附上文件内容。 重新登录终端 测试命令补全 1 2 3 docker</div><div class=read-more><a href=/posts/docker%E9%85%8D%E7%BD%AEtab%E8%A1%A5%E5%85%A8%E5%91%BD%E4%BB%A4/>····</a></div></div><div class=item><div class=c-date>2025-03-16</div><a href=https://www.haipengv.com/posts/docker%E9%95%9C%E5%83%8F%E5%8A%A0%E9%80%9F/ name=Docker镜像加速><span><img src=/imgs/icons/post-3.svg width=16></span>
<span>Docker镜像加速 <sup></sup></span></a><div class=desc><span class=date>2025-03-16 ~ 2025-03-16</span></div><div class=container-ctgtag><div class=taxonomy><div class=tag><a href=/tags/docker>Docker</a></div></div></div><div class=summary>docker镜像加速 创建/etc/docker/daemon.json文件 1 2 3 4 5 6 7 8 9 10 11 12 sudo mkdir -p /etc/docker sudo tee /etc/docker/daemon.json &lt;&lt;-'EOF' { "registry-mirrors": [ "https://dockerproxy.com", "https://docker.mirrors.ustc.edu.cn", "https://docker.nju.edu.cn" ] } EOF sudo systemctl daemon-reload sudo systemctl restart docker docker hub 国内镜像加</div><div class=read-more><a href=/posts/docker%E9%95%9C%E5%83%8F%E5%8A%A0%E9%80%9F/>····</a></div></div><div class=item><div class=c-date>2025-03-16</div><a href=https://www.haipengv.com/posts/ghcr%E9%95%9C%E5%83%8F%E5%8A%A0%E9%80%9F%E6%96%B9%E5%BC%8F/ name=GHCR镜像加速方式><span><img src=/imgs/icons/post-3.svg width=16></span>
<span>GHCR镜像加速方式 <sup></sup></span></a><div class=desc><span class=date>2025-03-16 ~ 2025-03-16</span></div><div class=container-ctgtag><div class=taxonomy><div class=tag><a href=/tags/docker>Docker</a></div></div></div><div class=summary>直接拉取镜像速度很慢，网上看到一个加速方法很好用，特此记录一下。 1 2 docker pull ghcr.io/home-assistant/home-assistant:stable # 这里的ghcr.io是github的docker镜像地址 加速方法：将ghcr.io替</div><div class=read-more><a href=/posts/ghcr%E9%95%9C%E5%83%8F%E5%8A%A0%E9%80%9F%E6%96%B9%E5%BC%8F/>····</a></div></div><div class=item><div class=c-date>2025-03-16</div><a href=https://www.haipengv.com/posts/harbor%E4%BD%BF%E7%94%A8%E8%87%AA%E7%AD%BE%E5%90%8D%E8%AF%81%E4%B9%A6%E5%AE%9E%E7%8E%B0https%E7%99%BB%E5%BD%95/ name=Harbor使用自签名证书实现https登录><span><img src=/imgs/icons/post-3.svg width=16></span>
<span>Harbor使用自签名证书实现https登录 <sup></sup></span></a><div class=desc><span class=date>2025-03-16 ~ 2025-03-16</span></div><div class=container-ctgtag><div class=taxonomy><div class=tag><a href=/tags/docker>Docker</a></div></div></div><div class=summary>前言 上次安装了Harbor，并没有开启https，不太安全，这次记录下自签名证书来实现https登录。 自签名证书创建过程 创建证书目录 1 2 3 4 mkdir /root/ca -p cd /root/ca #以下命令</div><div class=read-more><a href=/posts/harbor%E4%BD%BF%E7%94%A8%E8%87%AA%E7%AD%BE%E5%90%8D%E8%AF%81%E4%B9%A6%E5%AE%9E%E7%8E%B0https%E7%99%BB%E5%BD%95/>····</a></div></div><div class=item><div class=c-date>2025-03-16</div><a href=https://www.haipengv.com/posts/harbor%E5%AE%89%E8%A3%85%E4%B8%8E%E7%AE%80%E5%8D%95%E4%BD%BF%E7%94%A8/ name=Harbor安装与简单使用><span><img src=/imgs/icons/post-3.svg width=16></span>
<span>Harbor安装与简单使用 <sup></sup></span></a><div class=desc><span class=date>2025-03-16 ~ 2025-03-16</span></div><div class=container-ctgtag><div class=taxonomy><div class=tag><a href=/tags/docker>Docker</a></div></div></div><div class=summary>前言 Harbor 是一个开源的容器镜像仓库，它提供用户权限管理、镜像复制等功能，提高使用的registry的效率。确保镜像被扫描并且没有漏洞，并将镜像标记为可信。 harbo</div><div class=read-more><a href=/posts/harbor%E5%AE%89%E8%A3%85%E4%B8%8E%E7%AE%80%E5%8D%95%E4%BD%BF%E7%94%A8/>····</a></div></div><div class=item><div class=c-date>2025-03-16</div><a href=https://www.haipengv.com/posts/ubuntu20.04%E5%AE%89%E8%A3%85docker/ name=Ubuntu20.04安装docker><span><img src=/imgs/icons/post-3.svg width=16></span>
<span>Ubuntu20.04安装docker <sup></sup></span></a><div class=desc><span class=date>2025-03-16 ~ 2025-03-16</span></div><div class=container-ctgtag><div class=taxonomy><div class=tag><a href=/tags/docker>Docker</a></div></div></div><div class=summary>ubuntu20.04安装docker 操作系统要求 Docker只支持64位版本的 Ubuntu 18.04 LTS、20.04 LTS、21.04、21.10 操作系统，更旧的 Ubuntu 操作系统如</div><div class=read-more><a href=/posts/ubuntu20.04%E5%AE%89%E8%A3%85docker/>····</a></div></div><div class=item><div class=c-date>2025-03-16</div><a href=https://www.haipengv.com/posts/%E4%B8%8D%E5%90%8C%E6%9E%B6%E6%9E%84%E5%B9%B3%E5%8F%B0%E4%B8%8Bdocker%E5%AE%98%E6%96%B9%E9%95%9C%E5%83%8F%E5%8C%85%E6%9F%A5%E6%89%BE%E8%AF%B4%E6%98%8E/ name=不同架构平台下Docker官方镜像包查找说明><span><img src=/imgs/icons/post-3.svg width=16></span>
<span>不同架构平台下Docker官方镜像包查找说明 <sup></sup></span></a><div class=desc><span class=date>2025-03-16 ~ 2025-03-16</span></div><div class=container-ctgtag><div class=taxonomy><div class=tag><a href=/tags/docker>Docker</a></div></div></div><div class=summary>问题出现的原因 我的服务器的平台架构是IBM-Z无法拉取默认的x86平台的镜像，所以需要到docker-hub上找到IBM-Z对应的镜像才能使用。 首先进入Dock</div><div class=read-more><a href=/posts/%E4%B8%8D%E5%90%8C%E6%9E%B6%E6%9E%84%E5%B9%B3%E5%8F%B0%E4%B8%8Bdocker%E5%AE%98%E6%96%B9%E9%95%9C%E5%83%8F%E5%8C%85%E6%9F%A5%E6%89%BE%E8%AF%B4%E6%98%8E/>····</a></div></div><div class=item><div class=c-date>2025-03-16</div><a href=https://www.haipengv.com/posts/%E4%BD%BF%E7%94%A8docker%E6%90%AD%E5%BB%BAopenvpn/ name=使用docker搭建openvpn><span><img src=/imgs/icons/post-3.svg width=16></span>
<span>使用docker搭建openvpn <sup></sup></span></a><div class=desc><span class=date>2025-03-16 ~ 2025-03-16</span></div><div class=container-ctgtag><div class=taxonomy><div class=tag><a href=/tags/docker>Docker</a></div></div></div><div class=summary>需求 通过vpn直接访问内网容器ip可以直接登录，不再需要先登入公网IP再跳转到内网容器内部。 访问示意图 互联网（openvpn client）&ndash;>（公网ip</div><div class=read-more><a href=/posts/%E4%BD%BF%E7%94%A8docker%E6%90%AD%E5%BB%BAopenvpn/>····</a></div></div></div><div class=container-pagination></div></div></div><div id=footer><div class=container-footer><div class=beian><a target=_blank href="http://www.beian.gov.cn/portal/registerSystemInfo?recordcode="></a><a href target=_blank><span class=some>icp...<span></a></div><div class=info><a href=https://github.com/loveminimal/hugo-theme-virgo>🕊️</a> 2021 - <span id=info-date></span></div></div></div><div class=cool-after></div></body></html>